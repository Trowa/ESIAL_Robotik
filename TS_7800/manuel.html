
<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<title>TS-7800 - Technologic Systems</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.18.0" />
<link rel="stylesheet" href="/w/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="/w/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}a.new,#quickbar a.new{color:#ba0000}, #toolbar{height:22px;margin-bottom:6px} #content ol,#content ul,#mw_content ol,#mw_content ul{margin-bottom:0.5em} .references-small{font-size:90%}    .references-2column{font-size:90%;-moz-column-count:2;column-count:2} ol.references > li:target,sup.reference:target,cite:target{background-color:#DEF} sup.reference{font-weight:normal;font-style:normal} cite{font-style:normal;word-wrap:break-word} @media screen,handheld,projection{cite *.printonly{display:none}} table.wikitable,table.prettytable{margin:1em 1em 1em 0;background:#f9f9f9;border:1px #aaa solid;border-collapse:collapse}.wikitable th,.wikitable td,.prettytable th,.prettytable td{border:1px #aaa solid;padding:0.2em}.wikitable th,.prettytable th{background:#f2f2f2;text-align:center}.wikitable caption,.prettytable caption{font-weight:bold} table.navbox{ border:1px solid #aaa;width:100%;margin:auto;clear:both;font-size:88%;text-align:center;padding:1px}table.navbox + table.navbox{ margin-top:-1px; }.navbox-title,.navbox-abovebelow,table.navbox th{text-align:center; padding-left:1em;padding-right:1em}.navbox-group{ white-space:nowrap;text-align:right;font-weight:bold;padding-left:1em;padding-right:1em}.navbox,.navbox-subgroup{background:#fdfdfd; }.navbox-list{border-color:#fdfdfd; }.navbox-title,table.navbox th{background:#ccccff; }.navbox-abovebelow,.navbox-group,.navbox-subgroup .navbox-title{background:#ddddff; }.navbox-subgroup .navbox-group,.navbox-subgroup .navbox-abovebelow{background:#e6e6ff; }.navbox-even{background:#f7f7f7; }.navbox-odd{background:transparent; }.collapseButton{ float:right; font-weight:normal; text-align:right; width:auto}.navbox .collapseButton{ width:6em; }  .infobox{border:1px solid #aaa;background-color:#f9f9f9;color:black;margin:0.5em 0 0.5em 1em;padding:0.2em;float:right;clear:right}.infobox td,.infobox th{vertical-align:top}.infobox caption{font-size:larger}.infobox.bordered{border-collapse:collapse}.infobox.bordered td,.infobox.bordered th{border:1px solid #aaa}.infobox.bordered .borderless td,.infobox.bordered .borderless th{border:0}.infobox.sisterproject{width:20em;font-size:90%}.infobox.standard-talk{border:1px solid #c0c090;background-color:#f8eaba}.infobox.standard-talk.bordered td,.infobox.standard-talk.bordered th{border:1px solid #c0c090} .infobox.bordered .mergedtoprow td,.infobox.bordered .mergedtoprow th{border:0;border-top:1px solid #aaa;border-right:1px solid #aaa}.infobox.bordered .mergedrow td,.infobox.bordered .mergedrow th{border:0;border-right:1px solid #aaa} .infobox.geography{text-align:left;border-collapse:collapse;line-height:1.2em;font-size:90%}.infobox.geography td,.infobox.geography th{border-top:solid 1px #aaa;padding:0.4em 0.6em 0.4em 0.6em}.infobox.geography .mergedtoprow td,.infobox.geography .mergedtoprow th{border-top:solid 1px #aaa;padding:0.4em 0.6em 0.2em 0.6em}.infobox.geography .mergedrow td,.infobox.geography .mergedrow th{border:0;padding:0 0.6em 0.2em 0.6em}.infobox.geography .mergedbottomrow td,.infobox.geography .mergedbottomrow th{border-top:0;border-bottom:solid 1px #aaa;padding:0 0.6em 0.4em 0.6em}.infobox.geography .maptable td,.infobox.geography .maptable th{border:0;padding:0} .redirect-in-category,.allpagesredirect{font-style:italic} div.listenlist{background:url("http://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Gnome-speakernotes.png/30px-Gnome-speakernotes.png");padding-left:40px} div.medialist{min-height:50px;margin:1em;background-position:top left;background-repeat:no-repeat}div.medialist ul{list-style-type:none;list-style-image:none;margin:0}div.medialist ul li{padding-bottom:0.5em}div.medialist ul li li{font-size:91%;padding-bottom:0} #bodyContent a[href$=".pdf"].external,#bodyContent a[href*=".pdf?"].external,#bodyContent a[href*=".pdf#"].external,#bodyContent a[href$=".PDF"].external,#bodyContent a[href*=".PDF?"].external,#bodyContent a[href*=".PDF#"].external,#mw_content a[href$=".pdf"].external,#mw_content a[href*=".pdf?"].external,#mw_content a[href*=".pdf#"].external,#mw_content a[href$=".PDF"].external,#mw_content a[href*=".PDF?"].external,#mw_content a[href*=".PDF#"].external{background:url("http://upload.wikimedia.org/wikipedia/commons/thumb/2/23/Icons-mini-file_acrobat.gif/15px-Icons-mini-file_acrobat.gif") center right no-repeat;padding-right:16px} #bodyContent span.PDFlink a,#mw_content span.PDFlink a{background:url("http://upload.wikimedia.org/wikipedia/commons/thumb/2/23/Icons-mini-file_acrobat.gif/15px-Icons-mini-file_acrobat.gif") center right no-repeat;padding-right:17px} #bodyContent .plainlinks a{background:none !important;padding:0 !important} div.columns-2 div.column{float:left;width:50%;min-width:300px}div.columns-3 div.column{float:left;width:33.3%;min-width:200px}div.columns-4 div.column{float:left;width:25%;min-width:150px}div.columns-5 div.column{float:left;width:20%;min-width:120px} .nourlexpansion a.external.text:after,.nourlexpansion a.external.autonumber:after{display:none !important} .messagebox{border:1px solid #aaa;background-color:#f9f9f9;width:80%;margin:0 auto 1em auto;padding:.2em}.messagebox.merge{border:1px solid #c0b8cc;background-color:#f0e5ff;text-align:center}.messagebox.cleanup{border:1px solid #9f9fff;background-color:#efefff;text-align:center}.messagebox.standard-talk{border:1px solid #c0c090;background-color:#f8eaba;margin:4px auto} .mbox-inside .standard-talk,.messagebox.nested-talk{border:1px solid #c0c090;background-color:#f8eaba;width:100%;margin:2px 0;padding:2px}.messagebox.small{width:238px;font-size:85%;float:right;clear:both;margin:0 0 1em 1em;line-height:1.25em}.messagebox.small-talk{width:238px;font-size:85%;float:right;clear:both;margin:0 0 1em 1em;line-height:1.25em;background:#F8EABA} th.mbox-text,td.mbox-text{ border:none;padding:0.25em 0.9em; width:100%; }td.mbox-image{ border:none;padding:2px 0 2px 0.9em; text-align:center}td.mbox-imageright{ border:none;padding:2px 0.9em 2px 0; text-align:center}td.mbox-empty-cell{ border:none;padding:0px;width:1px} table.ambox{margin:0px 10%; border:1px solid #aaa;border-left:10px solid #1e90ff; background:#fbfbfb}table.ambox + table.ambox{ margin-top:-1px}.ambox th.mbox-text,.ambox td.mbox-text{ padding:0.25em 0.5em; }.ambox td.mbox-image{ padding:2px 0 2px 0.5em; }.ambox td.mbox-imageright{ padding:2px 0.5em 2px 0; }table.ambox-notice{border-left:10px solid #1e90ff; }table.ambox-speedy{border-left:10px solid #b22222; background:#fee; }table.ambox-delete{border-left:10px solid #b22222; }table.ambox-content{border-left:10px solid #f28500; }table.ambox-style{border-left:10px solid #f4c430; }table.ambox-move{border-left:10px solid #9932cc; }table.ambox-protection{border-left:10px solid #bba; } table.imbox{margin:4px 10%;border-collapse:collapse;border:3px solid #1e90ff; background:#fbfbfb}.imbox .mbox-text .imbox{ margin:0 -0.5em; }.mbox-inside .imbox{ margin:4px}table.imbox-notice{border:3px solid #1e90ff; }table.imbox-speedy{border:3px solid #b22222; background:#fee; }table.imbox-delete{border:3px solid #b22222; }table.imbox-content{border:3px solid #f28500; }table.imbox-style{border:3px solid #f4c430; }table.imbox-move{border:3px solid #9932cc; }table.imbox-protection{border:3px solid #bba; }table.imbox-license{border:3px solid #88a; background:#f7f8ff; }table.imbox-featured{border:3px solid #cba135; } table.cmbox{margin:3px 10%;border-collapse:collapse;border:1px solid #aaa;background:#DFE8FF; }table.cmbox-notice{background:#D8E8FF; }table.cmbox-speedy{margin-top:4px;margin-bottom:4px;border:4px solid #b22222; background:#FFDBDB; }table.cmbox-delete{background:#FFDBDB; }table.cmbox-content{background:#FFE7CE; }table.cmbox-style{background:#FFF9DB; }table.cmbox-move{background:#E4D8FF; }table.cmbox-protection{background:#EFEFE1; } table.ombox{margin:4px 10%;border-collapse:collapse;border:1px solid #aaa; background:#f9f9f9}table.ombox-notice{border:1px solid #aaa; }table.ombox-speedy{border:2px solid #b22222; background:#fee; }table.ombox-delete{border:2px solid #b22222; }table.ombox-content{border:1px solid #f28500; }table.ombox-style{border:1px solid #f4c430; }table.ombox-move{border:1px solid #9932cc; }table.ombox-protection{border:2px solid #bba; } table.tmbox{margin:4px 10%;border-collapse:collapse;border:1px solid #c0c090; background:#f8eaba}.mediawiki .mbox-inside .tmbox{ margin:2px 0; width:100%;  }.mbox-inside .tmbox.mbox-small{ line-height:1.5em; font-size:100%; }table.tmbox-speedy{border:2px solid #b22222; background:#fee; }table.tmbox-delete{border:2px solid #b22222; }table.tmbox-content{border:2px solid #f28500; }table.tmbox-style{border:2px solid #f4c430; }table.tmbox-move{border:2px solid #9932cc; }table.tmbox-protection,table.tmbox-notice{border:1px solid #c0c090; } table.dmbox{clear:both;margin:0.9em 1em;border-top:1px solid #ccc;border-bottom:1px solid #ccc;background:transparent} table.fmbox{clear:both;margin:0.2em 0;width:100%;border:1px solid #aaa;background:#f9f9f9; }table.fmbox-system{background:#f9f9f9}table.fmbox-warning{border:1px solid #bb7070; background:#ffdbdb; }table.fmbox-editnotice{background:transparent} div.mw-warning-with-logexcerpt,div.mw-lag-warn-high,div.mw-cascadeprotectedwarning{clear:both;margin:0.2em 0;border:1px solid #bb7070;background:#ffdbdb;padding:0.25em 0.9em} div.mw-lag-warn-normal,div.noarticletext,div.fmbox-system{clear:both;margin:0.2em 0;border:1px solid #aaa;background:#f9f9f9;padding:0.25em 0.9em} body.mediawiki table.mbox-small{ clear:right;float:right;margin:4px 0 4px 1em;width:238px;font-size:88%;line-height:1.25em}body.mediawiki table.mbox-small-left{ margin:4px 1em 4px 0;width:238px;border-collapse:collapse;font-size:88%;line-height:1.25em} .IPA{font-family:"Charis SIL","Doulos SIL",Gentium,GentiumAlt,"DejaVu Sans",Code2000,"TITUS Cyberbit Basic","Arial Unicode MS","Lucida Sans Unicode","Chrysanthi Unicode";font-family :inherit}.Unicode{font-family:Code2000,Code2001,"Free Serif","TITUS Cyberbit Basic","Doulos SIL","Chrysanthi Unicode","Bitstream Cyberbit","Bitstream CyberBase",Thryomanes,Gentium,GentiumAlt,"Lucida Grande","Free Sans","Arial Unicode MS","Microsoft Sans Serif","Lucida Sans Unicode";font-family :inherit}.latinx{font-family:Code2000,Code2001,"TITUS Cyberbit Basic","Microsoft Sans Serif";font-family :inherit}.polytonic{font-family:"Athena Unicode",Gentium,"Palatino Linotype","Arial Unicode MS","Lucida Sans Unicode","Lucida Grande",Code2000;font-family :inherit}#wpSave{font-weight:bold} .hiddenStructure{display:inline ! important;color:#f00;background-color:#0f0} .check-icon a.new{display:none;speak:none} .nounderlines a{text-decoration:none} .IPA a:link,.IPA a:visited{text-decoration:none} div.NavFrame{margin:0;padding:4px;border:1px solid #aaa;text-align:center;border-collapse:collapse;font-size:95%}div.NavFrame + div.NavFrame{border-top-style:none;border-top-style:hidden}div.NavPic{background-color:#fff;margin:0;padding:2px;float:left}div.NavFrame div.NavHead{height:1.6em;font-weight:bold;background-color:#ccf;position:relative}div.NavFrame p{font-size:100%}div.NavFrame div.NavContent{font-size:100%}div.NavFrame div.NavContent p{font-size:100%}div.NavEnd{margin:0;padding:0;line-height:1px;clear:both}a.NavToggle{position:absolute;top:0;right:3px;font-weight:normal;font-size:90%} .mw-plusminus-pos{color:#006400} .mw-plusminus-neg{color:#8B0000} .rellink,.dablink{font-style:italic;padding-left:2em}.rellink i,.dablink i{font-style:normal} .horizontal ul{padding:0;margin:0}.horizontal li{padding:0 0.6em 0 0.4em;display:inline;border-right:1px solid}.horizontal li:last-child{border-right:none;padding-right:0} .listify td{display:list-item}.listify tr{display:block}.listify table{display:block} .geo-default,.geo-dms,.geo-dec{display:inline}.geo-nondefault,.geo-multi-punct{display:none}.longitude,.latitude{white-space:nowrap} .nonumtoc .tocnumber{display:none}.nonumtoc #toc ul,.nonumtoc .toc ul{line-height:1.5em;list-style:none;margin:.3em 0 0;padding:0}.nonumtoc #toc ul ul,.nonumtoc .toc ul ul{margin:0 0 0 2em} .toclimit-2 .toclevel-2,.toclimit-3 .toclevel-3,.toclimit-4 .toclevel-4,.toclimit-5 .toclevel-5,.toclimit-6 .toclevel-6,.toclimit-7 .toclevel-7{display:none} blockquote.templatequote{margin-top:0}blockquote.templatequote div.templatequotecite{line-height:1em;text-align:left;padding-left:2em;margin-top:0}blockquote.templatequote div.templatequotecite cite{font-size:85%}div.user-block{padding:5px;border:1px solid #A9A9A9;background-color:#FFEFD5} .nowraplinks a,span.texhtml,sup.reference a{white-space:nowrap} .template-documentation{clear:both;margin:1em 0 0 0;border:1px solid #aaa;background-color:#ecfcf4;padding:5px}.thumbinner{min-width:100px} .imagemap-inline div{display:inline} #wpUploadDescription{height:13em} sup,sub{line-height:1em} #content .gallerybox div.thumb{background-color:#F9F9F9; } .gallerybox .thumb img,#file img{background:white url("http://upload.wikimedia.org/wikipedia/commons/5/5d/Checker-16x16.png") repeat} .ns-0 .gallerybox .thumb img,.ns-2 .gallerybox .thumb img,.ns-100 .gallerybox .thumb img{background:white} #mw-subcategories,#mw-pages,#mw-category-media,#filehistory,#wikiPreview,#wikiDiff{clear:both} .wpb .wpb-header{display:none}.wpbs-inner .wpb .wpb-header{display:block} .wpbs-inner .wpb .wpb-header{display:table-row} .wpbs-inner .wpb-outside{display:none}   @media print{  }

/* cache key: wiki:resourceloader:filter:minify-css:4:c88e2bcd56513749bec09a7e29cb3ffa */
</style>
<script>if(window.mw){
	mw.config.set({"wgCanonicalNamespace": "", "wgCanonicalSpecialPageName": false, "wgNamespaceNumber": 0, "wgPageName": "TS-7800", "wgTitle": "TS-7800", "wgCurRevisionId": 1944, "wgArticleId": 197, "wgIsArticle": true, "wgAction": "view", "wgUserName": null, "wgUserGroups": ["*"], "wgCategories": [], "wgBreakFrames": false, "wgRestrictionEdit": [], "wgRestrictionMove": []});
}
</script><script>if(window.mw){
	mw.loader.load(["mediawiki.page.startup"]);
}
</script>
<style type="text/css">/*<![CDATA[*/
.source-bash {line-height: normal;}
.source-bash li, .source-bash pre {
	line-height: normal; border: 1px dashed #2f6fab;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for bash
 * CSS class: source-bash, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.bash.source-bash .de1, .bash.source-bash .de2 {font-family: monospace; font-size: 1.2em; margin:0; padding:0; background:none; vertical-align:top;}
.bash.source-bash  {font-family:monospace;}
.bash.source-bash .imp {font-weight: bold; color: red;}
.bash.source-bash li, .bash.source-bash .li1 {font-weight: normal; vertical-align:top;}
.bash.source-bash .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.bash.source-bash .li2 {font-weight: bold; vertical-align:top;}
.bash.source-bash .kw1 {color: #000000; font-weight: bold;}
.bash.source-bash .kw2 {color: #c20cb9; font-weight: bold;}
.bash.source-bash .kw3 {color: #7a0874; font-weight: bold;}
.bash.source-bash .co0 {color: #666666; font-style: italic;}
.bash.source-bash .co1 {color: #800000;}
.bash.source-bash .co2 {color: #cc0000; font-style: italic;}
.bash.source-bash .co3 {color: #000000; font-weight: bold;}
.bash.source-bash .es1 {color: #000099; font-weight: bold;}
.bash.source-bash .es2 {color: #007800;}
.bash.source-bash .es3 {color: #007800;}
.bash.source-bash .es4 {color: #007800;}
.bash.source-bash .es5 {color: #780078;}
.bash.source-bash .es_h {color: #000099; font-weight: bold;}
.bash.source-bash .br0 {color: #7a0874; font-weight: bold;}
.bash.source-bash .sy0 {color: #000000; font-weight: bold;}
.bash.source-bash .st0 {color: #ff0000;}
.bash.source-bash .st_h {color: #ff0000;}
.bash.source-bash .nu0 {color: #000000;}
.bash.source-bash .re0 {color: #007800;}
.bash.source-bash .re1 {color: #007800;}
.bash.source-bash .re2 {color: #007800;}
.bash.source-bash .re4 {color: #007800;}
.bash.source-bash .re5 {color: #660033;}
.bash.source-bash .ln-xtra, .bash.source-bash li.ln-xtra, .bash.source-bash div.ln-xtra {background-color: #ffc;}
.bash.source-bash span.xtra { display:block; }

/*]]>*/
</style>
<style type="text/css">/*<![CDATA[*/
@import "/w/index.php?title=MediaWiki:Geshi.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/w/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-TS-7800 action-view skin-vector">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading">TS-7800</h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
								<!-- tagline -->
				<div id="siteSub">From Technologic Systems</div>
				<!-- /tagline -->
								<!-- subtitle -->
				<div id="contentSub"></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				<div id="jump-to-nav">
					Jump to: <a href="#mw-head">navigation</a>,
					<a href="#p-search">search</a>
				</div>
				<!-- /jumpto -->
								<!-- bodycontent -->
				<div lang="en" dir="ltr" class="mw-content-ltr"><table class="infobox" cellspacing="5" style="width:22em;"><caption class="" style="">TS-7800</caption><tr class=""><td colspan="2" class="" style="text-align:center;">
<a href="/wiki/File:TS-7800.jpg" class="image"><img alt="TS-7800.jpg" src="/w/images/thumb/a/ae/TS-7800.jpg/200px-TS-7800.jpg" width="200" height="145" /></a></td></tr><tr class=""><td colspan="2" class="" style="text-align:center;">
<a rel="nofollow" class="external text" href="http://www.embeddedarm.com/products/board-detail.php?product=TS-7800">Product Page</a></td></tr><tr><th colspan="2" class="" style="text-align:center; background:#ccf;">Documentation</th></tr><tr class=""><td colspan="2" class="" style="text-align:center;">
<a rel="nofollow" class="external text" href="http://www.embeddedarm.com/documentation/ts-7800-schematic.pdf">Schematic</a></td></tr><tr class=""><td colspan="2" class="" style="text-align:center;">
<a rel="nofollow" class="external text" href="http://www.embeddedarm.com/documentation/ts-7800-mechanical.pdf">Mechanical Drawing</a></td></tr><tr class=""><td colspan="2" class="" style="text-align:center;">
<a rel="nofollow" class="external text" href="ftp://ftp.embeddedarm.com/ts-arm-sbc/ts-7800-linux/">FTP Path</a></td></tr><tr class=""><td colspan="2" class="" style="text-align:center;">
<a rel="nofollow" class="external text" href="http://www.embeddedarm.com/documentation/third-party/MV88F5182-usermanual.pdf">MV88F5182 User Manual</a></td></tr><tr class=""><td colspan="2" class="" style="text-align:center;">
<a rel="nofollow" class="external text" href="http://www.embeddedarm.com/documentation/third-party/MV88F5182-opensource-manual.pdf">MV88F5182 Opensource Manual</a></td></tr><tr class=""><td colspan="2" class="" style="text-align:center;">
<a rel="nofollow" class="external text" href="http://www.embeddedarm.com/documentation/third-party/MV88F5182-datasheet.pdf">MV88F5182 Datasheet</a></td></tr><tr><th colspan="2" class="" style="text-align:center; background:#ccf;">Specifications</th></tr><tr class=""><td colspan="2" class="" style="text-align:center;">
Weight 107g (approx)</td></tr><tr><th colspan="2" class="" style="text-align:center; background:#ccf;">Operating Temperature</th></tr><tr class=""><td colspan="2" class="" style="text-align:center;">
<table cellspacing="0" cellpadding="0" border="0" style="background: transparent;"><tr><td nowrap="nowrap" valign="top"><span style="position: relative; top: -2px;"><img alt="Cold" src="/w/images/thumb/6/6b/Cold.png/18px-Cold.png" width="18" height="18" /></span> </td><td valign="top" style="padding-left:0.5em;">-20C</td></tr></table></td></tr><tr class=""><td colspan="2" class="" style="text-align:center;">
<table cellspacing="0" cellpadding="0" border="0" style="background: transparent;"><tr><td nowrap="nowrap" valign="top"><span style="position: relative; top: -2px;"><img alt="Hot" src="/w/images/thumb/b/b2/Hot.png/18px-Hot.png" width="18" height="18" /></span> </td><td valign="top" style="padding-left:0.5em;">70C</td></tr></table></td></tr>
</table>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Getting_Started"><span class="tocnumber">2</span> <span class="toctext">Getting Started</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Get_a_Console"><span class="tocnumber">2.1</span> <span class="toctext">Get a Console</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Initrd_.2F_Busybox_.2F_Fastboot"><span class="tocnumber">2.2</span> <span class="toctext">Initrd / Busybox / Fastboot</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Boot_Process"><span class="tocnumber">2.3</span> <span class="toctext">Boot Process</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Jumper_Configuration"><span class="tocnumber">2.4</span> <span class="toctext">Jumper Configuration</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Backup_.2F_Restore"><span class="tocnumber">3</span> <span class="toctext">Backup / Restore</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#SD_Card"><span class="tocnumber">3.1</span> <span class="toctext">SD Card</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Onboard_Flash"><span class="tocnumber">3.2</span> <span class="toctext">Onboard Flash</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#Operating_Systems"><span class="tocnumber">4</span> <span class="toctext">Operating Systems</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Linux"><span class="tocnumber">4.1</span> <span class="toctext">Linux</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#Linux_Kernel"><span class="tocnumber">4.1.1</span> <span class="toctext">Linux Kernel</span></a>
<ul>
<li class="toclevel-4 tocsection-13"><a href="#Recompiling_the_Kernel"><span class="tocnumber">4.1.1.1</span> <span class="toctext">Recompiling the Kernel</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-14"><a href="#ATAGS"><span class="tocnumber">4.1.2</span> <span class="toctext">ATAGS</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#Software_Development"><span class="tocnumber">4.1.3</span> <span class="toctext">Software Development</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Upgrading_the_Linux_Distribution"><span class="tocnumber">4.1.4</span> <span class="toctext">Upgrading the Linux Distribution</span></a>
<ul>
<li class="toclevel-4 tocsection-17"><a href="#OABI_Lenny"><span class="tocnumber">4.1.4.1</span> <span class="toctext">OABI Lenny</span></a></li>
<li class="toclevel-4 tocsection-18"><a href="#EABI_Lenny"><span class="tocnumber">4.1.4.2</span> <span class="toctext">EABI Lenny</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#Features"><span class="tocnumber">5</span> <span class="toctext">Features</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#CPU_Functionality"><span class="tocnumber">5.1</span> <span class="toctext">CPU Functionality</span></a>
<ul>
<li class="toclevel-3 tocsection-21"><a href="#MMU"><span class="tocnumber">5.1.1</span> <span class="toctext">MMU</span></a></li>
<li class="toclevel-3 tocsection-22"><a href="#Interrupts"><span class="tocnumber">5.1.2</span> <span class="toctext">Interrupts</span></a></li>
<li class="toclevel-3 tocsection-23"><a href="#Onboard_Flash_2"><span class="tocnumber">5.1.3</span> <span class="toctext">Onboard Flash</span></a></li>
<li class="toclevel-3 tocsection-24"><a href="#USB_Host"><span class="tocnumber">5.1.4</span> <span class="toctext">USB Host</span></a></li>
<li class="toclevel-3 tocsection-25"><a href="#SATA"><span class="tocnumber">5.1.5</span> <span class="toctext">SATA</span></a></li>
<li class="toclevel-3 tocsection-26"><a href="#DDR_RAM"><span class="tocnumber">5.1.6</span> <span class="toctext">DDR RAM</span></a></li>
<li class="toclevel-3 tocsection-27"><a href="#Onboard_NAND_Flash"><span class="tocnumber">5.1.7</span> <span class="toctext">Onboard NAND Flash</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-28"><a href="#FPGA_Functionality"><span class="tocnumber">5.2</span> <span class="toctext">FPGA Functionality</span></a>
<ul>
<li class="toclevel-3 tocsection-29"><a href="#SD"><span class="tocnumber">5.2.1</span> <span class="toctext">SD</span></a></li>
<li class="toclevel-3 tocsection-30"><a href="#Register_Map"><span class="tocnumber">5.2.2</span> <span class="toctext">Register Map</span></a></li>
<li class="toclevel-3 tocsection-31"><a href="#TSUART"><span class="tocnumber">5.2.3</span> <span class="toctext">TSUART</span></a></li>
<li class="toclevel-3 tocsection-32"><a href="#PC104"><span class="tocnumber">5.2.4</span> <span class="toctext">PC104</span></a>
<ul>
<li class="toclevel-4 tocsection-33"><a href="#PC104_GPIO"><span class="tocnumber">5.2.4.1</span> <span class="toctext">PC104 GPIO</span></a></li>
<li class="toclevel-4 tocsection-34"><a href="#PC104_16550"><span class="tocnumber">5.2.4.2</span> <span class="toctext">PC104 16550</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-35"><a href="#AVR_Functionality"><span class="tocnumber">5.3</span> <span class="toctext">AVR Functionality</span></a>
<ul>
<li class="toclevel-3 tocsection-36"><a href="#Sleep_Mode"><span class="tocnumber">5.3.1</span> <span class="toctext">Sleep Mode</span></a></li>
<li class="toclevel-3 tocsection-37"><a href="#ADC_Sampling"><span class="tocnumber">5.3.2</span> <span class="toctext">ADC Sampling</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-38"><a href="#CPLD_Functionality"><span class="tocnumber">5.4</span> <span class="toctext">CPLD Functionality</span></a>
<ul>
<li class="toclevel-3 tocsection-39"><a href="#LCD_and_DIO"><span class="tocnumber">5.4.1</span> <span class="toctext">LCD and DIO</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-40"><a href="#Serial_Ports"><span class="tocnumber">5.5</span> <span class="toctext">Serial Ports</span></a></li>
<li class="toclevel-2 tocsection-41"><a href="#Realtime_Clock"><span class="tocnumber">5.6</span> <span class="toctext">Realtime Clock</span></a></li>
<li class="toclevel-2 tocsection-42"><a href="#Status_LEDs"><span class="tocnumber">5.7</span> <span class="toctext">Status LEDs</span></a></li>
<li class="toclevel-2 tocsection-43"><a href="#Jumpers"><span class="tocnumber">5.8</span> <span class="toctext">Jumpers</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-44"><a href="#Connectors"><span class="tocnumber">6</span> <span class="toctext">Connectors</span></a>
<ul>
<li class="toclevel-2 tocsection-45"><a href="#DIO_Header"><span class="tocnumber">6.1</span> <span class="toctext">DIO Header</span></a></li>
<li class="toclevel-2 tocsection-46"><a href="#LCD_Header"><span class="tocnumber">6.2</span> <span class="toctext">LCD Header</span></a></li>
<li class="toclevel-2 tocsection-47"><a href="#Ethernet_Port"><span class="tocnumber">6.3</span> <span class="toctext">Ethernet Port</span></a></li>
<li class="toclevel-2 tocsection-48"><a href="#SD_Connectors"><span class="tocnumber">6.4</span> <span class="toctext">SD Connectors</span></a></li>
<li class="toclevel-2 tocsection-49"><a href="#Power_Supply_Connector"><span class="tocnumber">6.5</span> <span class="toctext">Power Supply Connector</span></a></li>
<li class="toclevel-2 tocsection-50"><a href="#DB9_Connector"><span class="tocnumber">6.6</span> <span class="toctext">DB9 Connector</span></a></li>
<li class="toclevel-2 tocsection-51"><a href="#COM2_Header"><span class="tocnumber">6.7</span> <span class="toctext">COM2 Header</span></a></li>
<li class="toclevel-2 tocsection-52"><a href="#COM3_Header"><span class="tocnumber">6.8</span> <span class="toctext">COM3 Header</span></a></li>
<li class="toclevel-2 tocsection-53"><a href="#A.2FD_Header"><span class="tocnumber">6.9</span> <span class="toctext">A/D Header</span></a></li>
<li class="toclevel-2 tocsection-54"><a href="#JTAG_Header"><span class="tocnumber">6.10</span> <span class="toctext">JTAG Header</span></a></li>
<li class="toclevel-2 tocsection-55"><a href="#PC104_Header"><span class="tocnumber">6.11</span> <span class="toctext">PC104 Header</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-56"><a href="#Product_Notes"><span class="tocnumber">7</span> <span class="toctext">Product Notes</span></a>
<ul>
<li class="toclevel-2 tocsection-57"><a href="#FCC_Advisory"><span class="tocnumber">7.1</span> <span class="toctext">FCC Advisory</span></a></li>
<li class="toclevel-2 tocsection-58"><a href="#Limited_Warranty"><span class="tocnumber">7.2</span> <span class="toctext">Limited Warranty</span></a></li>
</ul>
</li>
</ul>
</td></tr></table>
<h1> <span class="mw-headline" id="Overview"> Overview </span></h1>
<p>The TS-7800 is a RoHS compliant Single Board Computer (SBC) based on a Marvell MV88F5182 500MHz ARM9 CPU. An internal 32-bit PCI bus provides a standard set of high-end on-board peripherals such as 10/100/1000 ethernet, dual SATA and dual High-Speed host USB 2.0. The TS-7800 features 128MB of DDR-RAM and 512MB of high-speed NAND flash.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:202px;"><a href="/wiki/File:7800_website.jpg" class="image"><img alt="" src="/w/images/thumb/b/b6/7800_website.jpg/200px-7800_website.jpg" width="200" height="133" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:7800_website.jpg" class="internal" title="Enlarge"><img src="/wiki/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>The TS-7800 running a LAMP stack hosting www.embeddedarm.com</div></div></div>
<h1> <span class="mw-headline" id="Getting_Started"> Getting Started </span></h1>
<p>A Linux PC is recommended for development. For developers who use Windows, virtualized Linux using VMWare or virtualbox is recommended in order to make the full power of Linux available. The developer will need to be comfortable with Linux anyway in order to work with embedded Linux on the macrocontroller. The main reasons that Linux is useful are:
</p>
<ul><li> Linux filesystems on the microSD card can be accessed on the PC.
</li><li> More ARM cross-compilers are available.
</li><li> If recovery is needed, a bootable medium can be written.
</li><li> A network filesystem can be served.
</li></ul>
<p>Once you have a development environment, you should continue on and power up the board.
</p>
<table style="background:#800000; color:White; width:75%; border:3px solid #520000" cellpadding="5" cellspacing="5">
<tr>
<td style="font-weight:bold; font-size:120%;"> WARNING:
</td>
<td align="left"> Be sure to take appropriate Electrostatic Discharge (ESD) precautions. Disconnect the power source before moving, cabling, or performing any set up procedures.  Inappropriate handling may cause damage to the board.
</td></tr></table>
<p>The TS-7800 receives power through the +5VDC power connector with a 1A minimum supply.  If you have OP-SWITCHREG there will be a socket connector that will accept 8-30VDC.
</p>
<h2> <span class="mw-headline" id="Get_a_Console"> Get a Console </span></h2>
<p>The boot messages, by default, are all displayed on COM1 at 115200 baud. The TS-7800 board has Linux installed by default on onboard flash. Upon bootup, The board will boot within 1.1 seconds to a Linux prompt on UART #0 (/dev/ttyS0).
</p><p>Use a null modem cable to connect the SBC to your workstation.  If you do not have a COM port on your system (as many newer systems do not), you can find a USB serial adapter that will bring out RS232.
</p><p><b> Console from Linux </b>
</p><p>There are many serial clients for Linux, but 3 simple ones would be picocom, screen, and minicom.  These examples assume that your COM device is /dev/ttyUSB0 (common for USB adapters), but replace them with the COM device on your workstation.
</p><p>Linux has a few applications capable of connecting to the board over serial.  You can use any of these clients that may be installed or available in your workstation's package manager:
</p><p>Picocom is a very small and simple client.
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1">picocom <span class="re5">-b</span> <span class="nu0">115200</span> <span class="sy0">/</span>dev<span class="sy0">/</span>ttyUSB0</pre></div></div>
<p>Screen is a terminal multiplexer which happens to have serial support.
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="kw2">screen</span> <span class="sy0">/</span>dev<span class="sy0">/</span>ttyUSB0 <span class="nu0">115200</span></pre></div></div>
<p>Or a very commonly used client is minicom which is quite powerful:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1">minicom <span class="re5">-s</span></pre></div></div>
<ul><li>Navigate to 'serial port setup'
</li><li>Type "a" and change location of serial device to '/dev/ttyUSB0' then hit "enter"
</li><li>If needed, modify the settings to match this and hit "esc" when done:
</li></ul>
<pre>     E - Bps/Par/Bits         &#160;: 115200 8N1
     F - Hardware Flow Control&#160;: No
     G - Software Flow Control&#160;: No
</pre>
<ul><li>Navigate to 'Save setup as dfl', hit "enter", and then "esc"
</li></ul>
<p><b> Console from Windows </b>
</p><p>Putty is a small simple client available for download <a rel="nofollow" class="external text" href="http://www.chiark.greenend.org.uk/~sgtatham/putty/">here</a>.  Open up Device Manager to determine your console port.  See the putty configuration image for more details.
</p><p><a href="/wiki/File:Device-manager.png" class="image" title="Device Manager"><img alt="Device Manager" src="/w/images/1/14/Device-manager.png" width="319" height="470" /></a>
<a href="/wiki/File:Putty.png" class="image" title="Putty Configuration"><img alt="Putty Configuration" src="/w/images/9/98/Putty.png" width="456" height="435" /></a>
</p>
<h2> <span class="mw-headline" id="Initrd_.2F_Busybox_.2F_Fastboot"> Initrd / Busybox / Fastboot </span></h2>
<p>After the TS-7800 is first booted you will be at this shell:
</p>
<pre> &gt;&gt; TS-BOOTROM - built May 11 2011
 &gt;&gt; Copyright (c) 2008, Technologic Systems
 &gt;&gt; Booting from onboard NAND flash...
 .
 .
 .
 .
 Finished booting in 0.78 seconds
 Type 'tshelp' for help
 / #
</pre>
<p>This is a busybox shell which presents you with a very minimalistic system.  This filesystem is loaded into memory, so none of the changes will be saved unless you type 'save', or mount a filesystem as read write.  This can also provide a simple mechanism for running your application in an entirely read only environment.  The linuxrc script will be the first thing executed as soon as the kernel is loaded.  This sets the default IP address, starts the userspace ctl applications, and more.  Read the linuxrc for more information.
</p><p>While busybox itself doesn't contain much functionality, it does mount the <a href="/wiki/Debian" title="Debian">Debian</a> partition under /mnt/root/.  It will also add common paths and load libraries from the <a href="/wiki/Debian" title="Debian">Debian</a> system.  Many of the <a href="/wiki/Debian" title="Debian">Debian</a> applications will work by default.  If an application relies on certain paths being in certain places, or running services, you should instead boot to <a href="/wiki/Debian" title="Debian">Debian</a> to run them.
</p><p>This shell when started on the COM port is what is blocking a <a href="/wiki/Debian" title="Debian">Debian</a> boot.  If you close it by typing 'exit', the boot process will continue.  If you are connected through telnet, this will instead open up its own instance of the shell so typing 'exit' will only end that session.  You would have to relink the linuxrc script to always boot to a specific partition from telnet.
</p><p>The compiled instance of busybox includes internal commands listed below:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="sy0">/</span> <span class="co0"># /bin/busybox --help</span>
BusyBox v1.7.1 <span class="br0">&#40;</span><span class="nu0">2008</span>-07-<span class="nu0">16</span> <span class="nu0">14</span>:<span class="nu0">59</span>:<span class="nu0">19</span> MST<span class="br0">&#41;</span> multi-call binary
Copyright <span class="br0">&#40;</span>C<span class="br0">&#41;</span> <span class="nu0">1998</span>-<span class="nu0">2006</span>  Erik Andersen, Rob Landley, and others.
Licensed under GPLv2.  See <span class="kw3">source</span> distribution <span class="kw1">for</span> full notice.
&#160;
Usage: busybox <span class="br0">&#91;</span><span class="kw1">function</span><span class="br0">&#93;</span> <span class="br0">&#91;</span>arguments<span class="br0">&#93;</span>...
   or: <span class="br0">&#91;</span><span class="kw1">function</span><span class="br0">&#93;</span> <span class="br0">&#91;</span>arguments<span class="br0">&#93;</span>...
&#160;
	BusyBox is a multi-call binary that combines many common Unix
	utilities into a single executable.  Most people will create a
	<span class="kw2">link</span> to busybox <span class="kw1">for</span> each <span class="kw1">function</span> they wish to use and BusyBox
	will act like whatever it was invoked <span class="kw2">as</span><span class="sy0">!</span>
&#160;
Currently defined functions:
	<span class="br0">&#91;</span>, <span class="br0">&#91;</span><span class="br0">&#91;</span>, <span class="kw2">ash</span>, <span class="kw2">basename</span>, <span class="kw2">cal</span>, catv, <span class="kw2">chgrp</span>, <span class="kw2">chmod</span>, <span class="kw2">chown</span>,
	<span class="kw2">chroot</span>, cksum, <span class="kw2">clear</span>, <span class="kw2">comm</span>, <span class="kw2">cp</span>, cttyhack, <span class="kw2">cut</span>, <span class="kw2">date</span>, <span class="kw2">dd</span>,
	<span class="kw2">df</span>, <span class="kw2">dirname</span>, <span class="kw2">dmesg</span>, <span class="kw2">du</span>, <span class="kw3">echo</span>, <span class="kw2">egrep</span>, <span class="kw2">env</span>, eptime, <span class="kw2">expr</span>,
	<span class="kw2">false</span>, fdisk, <span class="kw2">fgrep</span>, <span class="kw2">find</span>, <span class="kw2">free</span>, ftpget, ftpput, <span class="kw2">getopt</span>,
	<span class="kw2">grep</span>, <span class="kw2">gunzip</span>, halt, <span class="kw2">head</span>, <span class="kw2">hexdump</span>, <span class="kw2">hostname</span>, <span class="kw2">ifconfig</span>,
	insmod, <span class="kw2">kill</span>, <span class="kw2">killall</span>, <span class="kw2">ln</span>, <span class="kw2">ls</span>, <span class="kw2">lsmod</span>, md5sum, mdev, <span class="kw2">mkdir</span>,
	<span class="kw2">mkfifo</span>, <span class="kw2">mknod</span>, modprobe, <span class="kw2">more</span>, <span class="kw2">mount</span>, mtdcp, <span class="kw2">mv</span>, mvtime,
	<span class="kw2">netstat</span>, <span class="kw2">nice</span>, <span class="kw2">nohup</span>, nslookup, peekpoke, <span class="kw2">ping</span>, ping6,
	pivot_root, poweroff, printenv, <span class="kw3">printf</span>, <span class="kw2">ps</span>, pscan, <span class="kw3">pwd</span>,
	reboot, <span class="kw2">rm</span>, <span class="kw2">rmdir</span>, rmmod, route, rx, <span class="kw2">sed</span>, setconsole,
	setlogcons, <span class="kw2">sh</span>, sha1sum, <span class="kw2">sleep</span>, <span class="kw2">split</span>, <span class="kw2">stat</span>, <span class="kw2">stty</span>, <span class="kw2">sum</span>,
	<span class="kw2">sync</span>, <span class="kw2">tail</span>, <span class="kw2">tar</span>, <span class="kw2">tee</span>, telnetd, <span class="kw3">test</span>, tftp, <span class="kw1">time</span>, top,
	<span class="kw2">tr</span>, traceroute, <span class="kw2">true</span>, tty, udhcpc, <span class="kw2">umount</span>, <span class="kw2">uname</span>, <span class="kw2">unzip</span>,
	<span class="kw2">uptime</span>, usleep, uudecode, uuencode, <span class="kw2">vi</span>, <span class="kw2">wget</span>, <span class="kw2">which</span>, <span class="kw2">xargs</span>,
	<span class="kw2">zcat</span></pre></div></div>
<table style="background:#F6F6F6; width:75%; border: 1px solid #A7D7F9" cellpadding="5" cellspacing="5">
<tr>
<td style="font-weight:bold; font-size:120%;"> Note:
</td>
<td align="left"> You may want to refer to the sources for some of these commands if they are not behaving as you would expect.  Busybox implements them so they are incredibly small, but they don't always provide all of the functionality as is in the standard gnu/bash shell commands.  Some commands will provide the same functionality like date, but may only work with very specific formats.
</td></tr></table>
<p>We also provide the ts7800.subr which provides the following functions:
</p>
<pre> bit_set()
 bit_clr()
 bit_get()
 led0()
 pc104on()
 pc104off()
 tshelp()
 sdmount()
 mtdmount()
 help()
</pre>
<h2> <span class="mw-headline" id="Boot_Process"> Boot Process </span></h2>
<div class="thumb tright"><div class="thumbinner" style="width:402px;"><a href="/wiki/File:7800-boot-diagram.png" class="image"><img alt="" src="/w/images/thumb/6/67/7800-boot-diagram.png/400px-7800-boot-diagram.png" width="400" height="181" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:7800-boot-diagram.png" class="internal" title="Enlarge"><img src="/wiki/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>Boot Process</div></div></div>
<p>The MBR, kernel, and initrd can be loaded from MicroSD, SD, or the onboard flash.  Once this is loaded you can boot to any other storage (SATA drive, USB, NFS, etc).  JP1 will allow you to pick between booting between the SD card sockets and the onboard flash, but if both SD and MicroSD are populated preference will be given to MicroSD.  
</p><p>Once you are booted to the initrd, you can change the linuxrc script to boot into the full linux installation on any device.  We provide several scripts that you can relink to linuxrc:
</p>
<table class="wikitable">

<tr>
<th> Script
</th>
<th> Function
</th></tr>
<tr>
<td> linuxrc-fastboot (default)
</td>
<td> Boots to a shell.  Once the shell is closed (type exit) it will boot to Debian on the full sized SD card.
</td></tr>
<tr>
<td> linuxrc-mtdroot
</td>
<td> Boots directly to Debian on the onboard flash.
</td></tr>
<tr>
<td> linuxrc-nfsroot
</td>
<td> Attempts to NFS root to 192.168.0.1:/tsarm-nfsroot.  You can edit this script to use your own server host and path.
</td></tr>
<tr>
<td> linuxrc-sdroot
</td>
<td> Boots directly to Debian on the full sized SD card.
</td></tr></table>
<p>To relink to automatically boot to sd, you would use this command
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="kw2">rm</span> linuxrc <span class="sy0">&amp;&amp;</span> <span class="kw2">ln</span> <span class="re5">-s</span> linuxrc-sdroot linuxrc <span class="sy0">&amp;&amp;</span> save</pre></div></div>
<p>To change the boot device to MicroSD card in these scripts, you can run a sed script on the linuxrc-fastboot or linuxrc-sdroot scripts:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="kw2">sed</span> <span class="re5">--in-place</span> <span class="st_h">'s/tssdcardb4/tssdcarda4/g'</span> <span class="sy0">/</span>linuxrc-sdroot</pre></div></div>
<p>If you want to boot to USB or SATA you may want to modify the linuxrc-sdroot or linuxrc-fastboot to mount your storage device at /mnt/root/.
</p>
<h2> <span class="mw-headline" id="Jumper_Configuration"> Jumper Configuration </span></h2>
<table class="wikitable">

<tr>
<th> Jumper
</th>
<th> Function
</th></tr>
<tr>
<td> JP1
</td>
<td> Boot to SD (Otherwise nand)
</td></tr>
<tr>
<td> JP2
</td>
<td> User Configurable
</td></tr>
<tr>
<td> JP3
</td>
<td> Lowers CPU clock
</td></tr></table>
<table style="background:#F6F6F6; width:75%; border: 1px solid #A7D7F9" cellpadding="5" cellspacing="5">
<tr>
<td style="font-weight:bold; font-size:120%;"> Note:
</td>
<td align="left"> See the FPGA Register Map for reading the states of the jumpers in software
</td></tr></table>
<table style="background:#F6F6F6; width:75%; border: 1px solid #A7D7F9" cellpadding="5" cellspacing="5">
<tr>
<td style="font-weight:bold; font-size:120%;"> Note:
</td>
<td align="left"> While JP3 does lower the clock speed, it does not lower power consumption
</td></tr></table>
<h1> <span class="mw-headline" id="Backup_.2F_Restore"> Backup / Restore </span></h1>
<h2> <span class="mw-headline" id="SD_Card"> SD Card </span></h2>
<p>If backing up on a separate workstation, keep in mind windows does not have direct block device support needed to write these images. You will also need to determine the SD card device. You can usually find this in the output of 'dmesg' after inserting the SD card and you will typically see something like '/dev/sdb' as the block device and '/dev/sdb1' for the first partition. On some newer kernels you will see '/dev/mmcblk0' as the block device and '/dev/mmcblkop1' for the first partition. For these examples I will use the '/dev/mmcblk0' format.  Both of the sd cards will use the same commands, except when backing up or restoring on the TS-7800 you would replace /dev/tssdcarda (MicroSD) or /dev/tssdcardb (SD) depending on which device you want to use.  These examples will use /dev/tssdcarda.
</p><p>You can find the latest image <a rel="nofollow" class="external text" href="ftp://ftp.embeddedarm.com/ts-arm-sbc/ts-7800-linux/binaries/ts-images/512mbsd-latest.dd.bz2">here</a>
</p><p>If you are backing up directly on the board you will likely need to use some kind of offboard storage like a thumbdrive or external hard drive.
</p><p><b> From Workstation </b>  
</p>
<hr />
<p><b>Backup </b>
</p><p>Entire SD card
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="kw2">dd</span> <span class="re2">if</span>=<span class="sy0">/</span>dev<span class="sy0">/</span>mmcblk0 <span class="re2">of</span>=<span class="sy0">/</span>path<span class="sy0">/</span>to<span class="sy0">/</span>backup.dd <span class="re2">bs</span>=32k <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span></pre></div></div>
<p>Kernel
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="kw2">dd</span> <span class="re2">if</span>=<span class="sy0">/</span>dev<span class="sy0">/</span>mmcblk0p2 <span class="re2">of</span>=<span class="sy0">/</span>path<span class="sy0">/</span>to<span class="sy0">/</span>zImage <span class="re2">bs</span>=32k <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span></pre></div></div>
<p>Initrd
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="kw2">dd</span> <span class="re2">if</span>=<span class="sy0">/</span>dev<span class="sy0">/</span>mmcblk0p3 <span class="re2">of</span>=<span class="sy0">/</span>path<span class="sy0">/</span>to<span class="sy0">/</span>initrd <span class="re2">bs</span>=32k <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span></pre></div></div>
<p><b> Restore</b>
</p><p>Entire SD card
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="kw2">dd</span> <span class="re2">if</span>=<span class="sy0">/</span>path<span class="sy0">/</span>to<span class="sy0">/</span>backup.dd <span class="re2">of</span>=<span class="sy0">/</span>dev<span class="sy0">/</span>mmcblk0 <span class="re2">bs</span>=32k <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span></pre></div></div>
<p>Kernel
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="kw2">dd</span> <span class="re2">if</span>=<span class="sy0">/</span>path<span class="sy0">/</span>to<span class="sy0">/</span>zImage <span class="re2">bs</span>=32k <span class="re2">of</span>=<span class="sy0">/</span>dev<span class="sy0">/</span>mmcblk0p2 <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span></pre></div></div>
<p>Initrd
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="kw2">dd</span> <span class="re2">if</span>=<span class="sy0">/</span>path<span class="sy0">/</span>to<span class="sy0">/</span>initrd <span class="re2">bs</span>=32k <span class="re2">of</span>=<span class="sy0">/</span>dev<span class="sy0">/</span>mmcblk0p3 <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span></pre></div></div>
<p><b> From TS-7800 </b>
</p>
<hr />
<p><b>Backup</b>
</p><p>Entire card
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="kw2">dd</span> <span class="re2">if</span>=<span class="sy0">/</span>dev<span class="sy0">/</span>tssdcarda <span class="re2">of</span>=<span class="sy0">/</span>path<span class="sy0">/</span>to<span class="sy0">/</span>backup.dd <span class="re2">bs</span>=<span class="nu0">512</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span></pre></div></div>
<p>Kernel
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="kw2">dd</span> <span class="re2">if</span>=<span class="sy0">/</span>dev<span class="sy0">/</span>tssdcarda2 <span class="re2">of</span>=<span class="sy0">/</span>path<span class="sy0">/</span>to<span class="sy0">/</span>zImage <span class="re2">bs</span>=<span class="nu0">512</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span></pre></div></div>
<p>Initrd
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="kw2">dd</span> <span class="re2">if</span>=<span class="sy0">/</span>dev<span class="sy0">/</span>tssdcarda3 <span class="re2">of</span>=<span class="sy0">/</span>path<span class="sy0">/</span>to<span class="sy0">/</span>initrd <span class="re2">bs</span>=<span class="nu0">512</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span></pre></div></div>
<p><b>Restore</b>
</p><p>The entire card from SBC
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="kw2">dd</span> <span class="re2">if</span>=<span class="sy0">/</span>path<span class="sy0">/</span>to<span class="sy0">/</span>sdimage.dd <span class="re2">of</span>=<span class="sy0">/</span>dev<span class="sy0">/</span>tssdcarda <span class="re2">conv</span>=<span class="kw2">sync</span> <span class="re2">bs</span>=<span class="nu0">512</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span></pre></div></div>
<p>Kernel
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="kw2">dd</span> <span class="re2">if</span>=<span class="sy0">/</span>path<span class="sy0">/</span>to<span class="sy0">/</span>zImage <span class="re2">of</span>=<span class="sy0">/</span>dev<span class="sy0">/</span>tssdcarda2 <span class="re2">conv</span>=<span class="kw2">sync</span> <span class="re2">bs</span>=<span class="nu0">512</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span></pre></div></div>
<p>Initrd
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="kw2">dd</span> <span class="re2">if</span>=<span class="sy0">/</span>path<span class="sy0">/</span>to<span class="sy0">/</span>zImage <span class="re2">of</span>=<span class="sy0">/</span>dev<span class="sy0">/</span>tssdcarda3 <span class="re2">conv</span>=<span class="kw2">sync</span> <span class="re2">bs</span>=<span class="nu0">512</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span></pre></div></div>
<h2> <span class="mw-headline" id="Onboard_Flash"> Onboard Flash </span></h2>
<p>To restore the onboard flash, you must first boot to a 512MB SD image.  You can write that image to the onboard flash with this command:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1">createmtdboot <span class="sy0">&amp;&amp;</span> createmtdroot</pre></div></div>
<p>This can take approximately 5 minutes.
</p>
<table style="background:#800000; color:White; width:75%; border:3px solid #520000" cellpadding="5" cellspacing="5">
<tr>
<td style="font-weight:bold; font-size:120%;"> WARNING:
</td>
<td align="left">  These scripts are only set up to copy the MBR that works with the 2.6.21 kernel image.
</td></tr></table>
<h1> <span class="mw-headline" id="Operating_Systems"> Operating Systems </span></h1>
<h2> <span class="mw-headline" id="Linux"> Linux </span></h2>
<p>Our supported OS is <a href="/wiki/Debian" title="Debian">Debian</a> 4.0 (Etch).  This Marvell processor is also capable of running later EABI distributions.  We do provide an EABI lenny distribution as is as well <a rel="nofollow" class="external text" href="ftp://ftp.embeddedarm.com/ts-arm-sbc/ts-7800-linux/distributions/debian-lenny-eabi-armel-512MB-mar032009.tar.gz">here</a>.  You can install this on the last partition of the SD card.  Recreate the partition and extract the filesystem on the partition:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="co0">#assuming the SD card is mounted at /dev/mmcblk0 on your workstation:</span>
mkfs.jfs <span class="sy0">/</span>dev<span class="sy0">/</span>mmcblk0p4
<span class="kw2">mkdir</span> <span class="sy0">/</span>mnt<span class="sy0">/</span>sd
<span class="kw2">mount</span> <span class="sy0">/</span>dev<span class="sy0">/</span>mmcblk0p4 <span class="sy0">/</span>mnt<span class="sy0">/</span>sd
<span class="kw3">cd</span> <span class="sy0">/</span>mnt<span class="sy0">/</span>sd<span class="sy0">/</span>
<span class="kw2">tar</span> <span class="re5">--numeric-owner</span> <span class="re5">-xvf</span> <span class="sy0">/</span>path<span class="sy0">/</span>to<span class="sy0">/</span>debian-lenny-eabi-armel-512MB-mar032009.tar.gz
<span class="kw3">cd</span> <span class="sy0">/</span>
<span class="kw2">umount</span> <span class="sy0">/</span>mnt<span class="sy0">/</span>sd</pre></div></div>
<p>So far any of <a href="/wiki/Debian" title="Debian">Debian</a>'s later distributions should work with this processor as well.  If you want to pursue this, look into creating a debootstrap on your boot device.
</p><p>After the desired Linux Kernel is loaded and executed, the file system loads and networking, logging, Apache web server, etc. are all started. When the login prompt is displayed, type "root" to login, with no password. A Bash login prompt will then appear. At this point, you are ready to enjoy your TS-7800 SBC running Linux.  <a href="/wiki/Debian" title="Debian">Debian</a> already has solid documentation for their distribution which you may want to refer to for actual usage of the OS.
</p>
<h3> <span class="mw-headline" id="Linux_Kernel"> Linux Kernel </span></h3>
<p>Marvell has strongly promoted running Linux on this chip and has done most of the legwork in creating a patch set to the Linux 2.6 kernels, but we have also had to modify the Linux Kernel (TS-Kernel) so it can support the on-board Flash chip (via mtd drivers) and the SD card driver.  The TS-7800 SBC's are shipped standard with full-featured <a href="/wiki/Debian" title="Debian">Debian</a> linux operating system utilizing the Linux-boot-Linux boot loader installed in the on-board Flash memory. The supported TS-Kernel used is based upon the version 2.6.21, patched and compiled for the MV 88F5182 processor. 
</p><p>We also provide a 2.6.36 kernel as is.  This will work on the SD card, but you will not be able to restore this SD image to the onboard nand without the correct MBR with the appropriate ATAGS.  The vanilla Linux Kernel also has support for the TS-7800.
</p><p>When you compile source code there are always lots of options for toolchains (soft float vs hard float...) but the two major categories customers really need to know about are version of gcc and version of glibc. The version of gcc is important when compiling the kernel because the kernel is literally millions of lines of code, so a lot of corner cases are encountered in the kernel. As gcc releases new versions, they sometimes change the way they handle corner cases. For example, in one version they may call a certain corner case a warning and let the corner case go by, but in another version they might call it an error and stop compiling. So you need to make sure you have the version of gcc that is compatible with your particular kernel or you may get an error where another version would have given you a warning. For the 7800 use "arm-none-linux-gnueabi-gcc" as the toolchain. The version of glibc is important for people compiling user space applications. libc is the C library where all the standard C functions are implemented. 
</p><p>In order to make things more efficient from a code size standpoint, Technologic Systems put one copy of the libc libraries in user space and let everyone share this one copy as opposed to giving everyone their own copy of the libc library. This is called dynamic linking. Static linking is where each binary has it's own copy of all the libraries it needs. When you compile a program you have to link against a version of the C libraries so the compiler can verify functions like printf() really do exist and you are passing the right arguments and lots of other details the compiler needs to know. 
</p><p>If you link against a version of glibc when you compile it is a really good idea to ensure you have that same version of glibc running on the board. In theory glibc is backwards compatible so if you link against an older version you should be able to run using a newer version, but this isn't always the case. In embedded systems where stability is one of your major concerns taking risks is not a good idea. For really large projects like php or apache it's usually a good idea to take a look at what version of gcc is recommended also, although for the most part this is not an issue for user space programs because the probability of them having code for one of the corner cases gcc may have changed is much lower.
</p>
<h4> <span class="mw-headline" id="Recompiling_the_Kernel"> Recompiling the Kernel </span></h4>
<table style="background:#800000; color:White; width:75%; border:3px solid #520000" cellpadding="5" cellspacing="5">
<tr>
<td style="font-weight:bold; font-size:120%;"> WARNING:
</td>
<td align="left"> BACKUP YOUR DATA FIRST
</td></tr></table>
<p><b> Prerequisites </b>
</p><p>This guide is intended to run on an x86 compatible Linux workstation.  While you may be able to compile the kernel on the board, we do not recommend it.  A typical workstation compile will take several minutes.  The same compile on the board will take several hours.
</p><p>RHEL/Fedora/CentOS:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1">yum <span class="kw2">install</span> ncurses-devel ncurses
yum groupinstall <span class="st0">&quot;Development Tools&quot;</span> <span class="st0">&quot;Development Libraries&quot;</span></pre></div></div>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1">Ubuntu<span class="sy0">/</span>Debian:
<span class="kw2">apt-get</span> <span class="kw2">install</span> build-essential libncurses5-dev libncursesw5-dev</pre></div></div>
<p>For other distributions, please refer to their documentation to find equivalent tools.  Next you need to set up the cross compiler and sources:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="co0"># Download the cross compile toolchain (OABI)from Technologic Systems:</span>
<span class="kw2">wget</span> <span class="kw2">ftp</span>:<span class="sy0">//</span>ftp.embeddedarm.com<span class="sy0">/</span>ts-arm-sbc<span class="sy0">/</span>ts-<span class="nu0">7800</span>-linux<span class="sy0">/</span>cross-toolchains<span class="sy0">/</span>ts7800-crosstool-linux-gnueabi-2005q3-<span class="nu0">2</span>.tar.gz
&#160;
<span class="co0">#Extract to current working directory:</span>
<span class="kw2">tar</span> xvzf ts7800-crosstool-linux-gnueabi-2005q3-<span class="nu0">2</span>.tar.gz
&#160;
<span class="co0">#Download the kernel sources</span>
<span class="kw2">wget</span> <span class="kw2">ftp</span>:<span class="sy0">//</span>ftp.embeddedarm.com<span class="sy0">/</span>ts-arm-sbc<span class="sy0">/</span>ts-<span class="nu0">7800</span>-linux<span class="sy0">/</span>sources<span class="sy0">/</span>linux-2.6.21-ts-src-latest.tar.gz
&#160;
<span class="co0">#Extract the source tarball.</span>
<span class="kw2">tar</span> xvzf linux-2.6.21-ts-src-latest.tar.gz
&#160;
<span class="kw3">cd</span> linux-2.6.21-ts</pre></div></div>
<p>Export the CROSS_COMPILE variable with a path that points to the appropriate cross-compiler.  If you followed the steps above exactly, the toolchain is extracted into the same directory as the kernel.
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="kw3">export</span> <span class="re2">CROSS_COMPILE</span>=..<span class="sy0">/</span>arm-none-linux-gnueabi<span class="sy0">/</span>bin<span class="sy0">/</span>arm-none-linux-gnueabi-
<span class="kw3">export</span> <span class="re2">ARCH</span>=arm</pre></div></div>
<p>Now you will want to configure your settings.  You can start with our default config by running:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="kw2">make</span> ts7800_defconfig</pre></div></div>
<p>At this point you can configure any additional options with:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="kw2">make</span> menuconfig</pre></div></div>
<p>For example, to include CIFS support use the arrow and Enter keys to navigate to Filesystems -&gt; Network File Systems -&gt; CIFS Support.  Press "y" to include CIFS support into the kernel (alternatively, you could modularize the feature with "m" so you can enable or disable the module on demand which will also enable you to simply copy/paste the cifs.ko into the correct path in the kernel instead of copying the entire kernel (outlined below in appendix)).  Keep hitting "exit" until you're prompted to save changes, choose "yes".
</p><p>After you have made your selection, you can build your kernel and modules with:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="kw2">make</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">make</span> modules</pre></div></div>
<table style="background:#F6F6F6; width:75%; border: 1px solid #A7D7F9" cellpadding="5" cellspacing="5">
<tr>
<td style="font-weight:bold; font-size:120%;"> Note:
</td>
<td align="left"> If you receive an error about PATH_MAX not being defined, you will need to edit scripts/mod/sumversion.c and add "#define PATH_MAX 1024".
</td></tr></table>
<p>The new kernel will be at "arch/arm/boot" in a compressed format called zImage (the uncompressed version is simply called Image, but it is REQUIRED that it be &lt; 3.1MB (3145728 bytes in size).  If it does not fit, you can go back in and change any changed options from included (*) to modules (m).
</p><p>Once you have a zImage that fits, you can copy this to the SD card by following the "Restore Kernel" steps in the <a href="#Backup_.2F_Restore">#Backup / Restore</a> section.
</p><p>You will need to install several of these modules to the initrd (third partition) of the SD card.  Mount the third partition of the SD card and copy these files:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="co0"># Create a directory to mount this device</span>
<span class="kw2">mkdir</span> <span class="re5">-p</span> <span class="sy0">/</span>mnt<span class="sy0">/</span>sd<span class="sy0">/</span>
&#160;
<span class="co0"># Note, your device may be something different.  Check 'dmesg' to get the correct name.  On my system, this is /dev/sdg.</span>
<span class="co0"># If you receive an error here, try restoring to the stock image first.  You may also need </span>
<span class="co0"># to load kernel modules for filesystem support.</span>
&#160;
<span class="kw2">mount</span> <span class="sy0">/</span>dev<span class="sy0">/</span>sdg3 <span class="sy0">/</span>mnt<span class="sy0">/</span>sd
&#160;
<span class="co0"># This assumes you are still in the root of the kernel sources</span>
<span class="kw2">cp</span> .<span class="sy0">/</span>drivers<span class="sy0">/</span>mtd<span class="sy0">/</span>nand<span class="sy0">/</span>ts7800.ko <span class="sy0">/</span>mnt<span class="sy0">/</span>sd<span class="sy0">/</span>
<span class="kw2">cp</span> .<span class="sy0">/</span>drivers<span class="sy0">/</span>mmc<span class="sy0">/</span>tssdcard.ko <span class="sy0">/</span>mnt<span class="sy0">/</span>sd
<span class="kw2">cp</span> .<span class="sy0">/</span>drivers<span class="sy0">/</span>serial<span class="sy0">/</span>tsuart1.ko <span class="sy0">/</span>mnt<span class="sy0">/</span>sd<span class="sy0">/</span>
<span class="kw2">cp</span> .<span class="sy0">/</span>drivers<span class="sy0">/</span>serial<span class="sy0">/</span>tsuart7800.ko <span class="sy0">/</span>mnt<span class="sy0">/</span>sd<span class="sy0">/</span>
<span class="kw2">cp</span> .<span class="sy0">/</span>drivers<span class="sy0">/</span>usb<span class="sy0">/</span>core<span class="sy0">/</span>usbcore.ko <span class="sy0">/</span>mnt<span class="sy0">/</span>sd<span class="sy0">/</span>
<span class="kw2">cp</span> .<span class="sy0">/</span>drivers<span class="sy0">/</span>usb<span class="sy0">/</span>host<span class="sy0">/</span>ehci-hcd.ko <span class="sy0">/</span>mnt<span class="sy0">/</span>sd<span class="sy0">/</span>
&#160;
<span class="kw2">umount</span> <span class="sy0">/</span>mnt<span class="sy0">/</span>sd <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span></pre></div></div>
<p>To install the modules in the Debian partition:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="kw2">mkdir</span> newmodules
<span class="re2">INSTALL_MOD_PATH</span>=newmodules <span class="kw2">make</span> modules_install
&#160;
<span class="co0"># Again, your device may be something different.  Check 'dmesg' to get the correct name.  On my system, this is /dev/sdg.</span>
<span class="kw2">mount</span> <span class="sy0">/</span>dev<span class="sy0">/</span>sdg4 <span class="sy0">/</span>mnt<span class="sy0">/</span>sd
&#160;
<span class="co0"># Remove the old modules</span>
<span class="kw2">rm</span> <span class="re5">-rf</span> <span class="sy0">/</span>mnt<span class="sy0">/</span>sd<span class="sy0">/</span>lib<span class="sy0">/</span>modules<span class="sy0">/</span>2.6.21-ts<span class="sy0">/</span>
&#160;
<span class="co0"># Install the new modules</span>
<span class="kw2">cp</span> <span class="re5">-r</span> newmodules<span class="sy0">/</span>lib<span class="sy0">/</span> <span class="sy0">/</span>mnt<span class="sy0">/</span>sd<span class="sy0">/</span>
&#160;
<span class="kw2">umount</span> <span class="sy0">/</span>mnt<span class="sy0">/</span>sd <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sync</span></pre></div></div>
<p>Once you boot up to the board to Debian, you need to run 'depmod' once to calculate module dependencies.  This will not work from the fastboot as it cannot write to this directory.  After this is run, you can 'modprobe &lt;module&gt;' for your specific device support.
</p><p>While we strongly recommend the 2.6.21 kernel we also provide a 2.6.34 kernel sources <a rel="nofollow" class="external text" href="ftp://ftp.embeddedarm.com/ts-arm-sbc/ts-7800-linux/sources/2.6.34.tar.gz">here</a>.  Note that these are not provided with any support.  You can follow the same steps as above for using this kernel, making sure that you use the updated <a href="#ATAGS">#ATAGS</a>, the different sources, and using <a rel="nofollow" class="external text" href="ftp://ftp.embeddedarm.com/ts-arm-sbc/ts-7800-linux/cross-toolchains/ts7800-crosstool-linux-gnueabi-2008q3-2.tar.gz">this</a> toolchain instead.
</p>
<h3> <span class="mw-headline" id="ATAGS"> ATAGS </span></h3>
<p>During the initial release of the board we used an internal ATAG identifier that the linux kernel would use to recognize the kernel.  When we created the 2.6.36 kernel we had one officially registered with the mainline kernel.  This is set in the MBR, so you will have to use the appropriate MBR with the ATAG for your kernel or the kernel will not recognize the board.
</p><p><a rel="nofollow" class="external text" href="ftp://ftp.embeddedarm.com/ts-arm-sbc/ts-7800-linux/binaries/ts-images/sd-mbr.dd">Kernel 2.6.21 MBR</a>
</p><p><a rel="nofollow" class="external text" href="ftp://ftp.embeddedarm.com/ts-arm-sbc/ts-7800-linux/binaries/ts-images/mbr-2.6.34.dd">Kernel 2.6.36 (and above) MBR</a>
</p><p>In our official images these will already be written, but you can simply use dd to write these to first 446 bytes of either of the SD cards or mtdcopy for onboard flash.
</p>
<h3> <span class="mw-headline" id="Software_Development"> Software Development </span></h3>
<p>Most Linux development is done with a few different tools instead of some other operating systems which use a single IDE.  You may want to try a few different tools and see what works best for you.
</p><p><b> Editors </b>
</p><p>Vim is a very common editor to use in Linux.  While it isn't the most intuitive at a first glance, you can run 'vimtutor' to get a ~30 minute instruction on how to use this editor.  Once you get past the initial learning curve it can make you very productive.  You can find the vim documentation <a rel="nofollow" class="external text" href="http://vimdoc.sourceforge.net/">here</a>.
</p><p>Emacs is another very common editor. Similar to vim, it is difficult to learn but rewarding in productivity.  You can find documentation on emacs <a rel="nofollow" class="external text" href="http://www.gnu.org/s/emacs/#Manuals">here</a>.
</p><p>Nano while not as commonly used for development is the easiest.  It doesn't have as many features to assist in code development, but is much simpler to begin using right away.  If you've used 'edit' on Windows/DOS, this will be very familiar.  You can find nano documentation <a rel="nofollow" class="external text" href="http://www.nano-editor.org/docs.php">here</a>.
</p><p><b> Compilers </b>
</p><p>We only recommend the gnu compiler collection.  There are many other commercial compilers which can also be used, but will not be supported by us.  You can install gcc on most boards in Debian by simply running 'apt-get update &amp;&amp; apt-get install build-essential'.  This will include everything needed for standard development in c/c++.
</p><p>You can find the gcc documentation <a rel="nofollow" class="external text" href="http://gcc.gnu.org/onlinedocs/">here</a>.  You can find a simple hello world tutorial for c++ with gcc <a rel="nofollow" class="external text" href="http://www.network-theory.co.uk/docs/gccintro/gccintro_54.html">here</a>.
</p><p><b> Build tools </b>
</p><p>When developing your application typing out the compiler commands with all of your arguments would take forever.  The most common way to handle these build systems is using a make file.  This lets you define your project sources, libraries, linking, and desired targets.  You can read more about makefiles <a rel="nofollow" class="external text" href="http://www.gnu.org/software/make/manual/make.html#Introduction">here</a>.
</p><p>If you are building an application intended to be more portable than on this one system, you can also look into the automake tools which are intended to help make that easier.  You can find an introduction to the autotools <a rel="nofollow" class="external text" href="http://www.gnu.org/s/hello/manual/automake/Introduction.html#Introduction">here</a>.
</p><p>Cmake is another alternative which generates a makefile.  This is generally simpler than using automake, but is not as mature as the automake tools.  You can find a tutorial <a rel="nofollow" class="external text" href="http://www.cmake.org/cmake/help/cmake_tutorial.html">here</a>.
</p><p><b> Debuggers </b>
</p><p>Linux has a few tools which are very helpful for debugging code.  The first of which is gdb (part of the gnu compiler collection).  This lets you run your code with breakpoints, get backgraces, step forward or backward, and pick apart memory while your application executes.  You can find documentation on gdb <a rel="nofollow" class="external text" href="http://www.gnu.org/s/gdb/documentation/">here</a>.
</p><p>Valgrind is a great tool for diagnosing problems during execution of your code.  As they describe it, "Valgrind is an instrumentation framework for building dynamic analysis tools. There are Valgrind tools that can automatically detect many memory management and threading bugs, and profile your programs in detail.".  You can find documentation on valgrind <a rel="nofollow" class="external text" href="http://valgrind.org/docs/manual/QuickStart.html">here</a>.
</p><p>Strace will allow you to watch how your application interacts with the running kernel which can be useful for diagnostics.  You can find the manual page <a rel="nofollow" class="external text" href="http://www.linuxmanpages.com/man1/strace.1.php">here</a>.
</p><p>Ltrace will do the same thing with any generic library.  You can find the manual page <a rel="nofollow" class="external text" href="http://linux.die.net/man/1/ltrace">here</a>.
</p>
<h3> <span class="mw-headline" id="Upgrading_the_Linux_Distribution"> Upgrading the Linux Distribution </span></h3>
<h4> <span class="mw-headline" id="OABI_Lenny"> OABI Lenny </span></h4>
<p>The shipped configuration of the TS-7800 has the OABI version of Debian Sarge.  The last OABI-supported Debian version is Lenny, and can be reached with these instructions:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="kw2">apt-get</span> update
<span class="kw2">apt-get</span> upgrade</pre></div></div>
<p>The update and upgrade may require running multiple times.  Once they report completely up to date you will need to modify <code>/etc/apt/sources.list</code> to look for Lenny distributions.  The repository may change over time, but the entry will look something like this:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="co0">#file /etc/apt/sources.list</span>
deb http:<span class="sy0">//</span>ftp.debian.org<span class="sy0">/</span>debian lenny main contrib non-free</pre></div></div>
<p>Once the <code>sources.list</code> file is updated appropriately, running the above apt-get commands again (potentially more than once) will complete the update to Debian Lenny.
</p>
<h4> <span class="mw-headline" id="EABI_Lenny"> EABI Lenny </span></h4>
<p>Since OABI and EABI are incompatible, the only way to switch to EABI Lenny is to actually replace the entire root filesystem on the TS-7800 with the EABI Debian Lenny already intact.  The filesystem tarball can be found on the Technologic Systems FTP here:<br />
<a rel="nofollow" class="external free" href="ftp://oz.embeddedarm.com/ts-arm-sbc/ts-7800-linux/distributions/debian-lenny-eabi-armel-512MB-mar032009.tar.gz">ftp://oz.embeddedarm.com/ts-arm-sbc/ts-7800-linux/distributions/debian-lenny-eabi-armel-512MB-mar032009.tar.gz</a><br />
This tarball should be used to replace the existing root filesystem.  Once that is done, the TS-7800 will boot to EABI Debian Lenny.
</p>
<h1> <span class="mw-headline" id="Features"> Features </span></h1>
<h2> <span class="mw-headline" id="CPU_Functionality"> CPU Functionality </span></h2>
<p>The TS-7800 features a Marvell 88F5182.  You may want to refer to the CPU user guide for more details on the advanced usage of the CPU features.
</p>
<h3> <span class="mw-headline" id="MMU"> MMU </span></h3>
<p>The 88F5182 features a Memory Management Unit, enabling high level operating systems such as Embedded Linux and Windows CE to run on the TS-7800. In the same way, the Linux TS-Kernel takes advantage of the MMU functionality. The MMU is controlled by page tables stored in system memory and is responsible for virtual address to physical address translation, memory protection through access permissions and domains, MMU cache and write buffer access. In doing so, software applications can access larger "virtual" memory space than the available physical memory size, allowing multiple programs to run and use the system memory simultaneously.
</p>
<h3> <span class="mw-headline" id="Interrupts"> Interrupts </span></h3>
<p>The 88F5182 has 64 interrupts available on chip as well as another 32 implemented in the Lattice FPGA by using the doorbell interrupt register. The CPU also has 26 GPIO pins that are configurable for interrupt use. The 88F5182 includes an interrupt controller that routes internal interrupt requests as well as external interrupt requests (GPIOs) to the Feroceon CPU core. The 88F5182 interrupt controller drives two interrupt signals to the Feroceon CPU core -- FIQ (high priority) and IRQ (regular priority). All interrupts are level sensitive. The interrupt is kept active as long as there is at least one non-masked cause bit set in the Interrupt Cause register. The 88F5182 can also be used as the interrupt controller for external devices generating interrupts to the Feroceon CPU core via GPIO inputs.
</p><p>The interrupt controller can also receive interrupt messages from an external PCI Express device. The 88F5182 can also act as a PCI or PCI Express Endpoint. As such, it can generate the PCI Express INTA emulation message or the INTAn signal.
</p><p>For more information about the interrupt functionalities, refer to the 88F5182 User's Guide.
</p>
<h3> <span class="mw-headline" id="Onboard_Flash_2"> Onboard Flash </span></h3>
<p>The TS-7800 uses a 512MB NAND Flash chip for its on-board Flash resource. The physical address of the Flash chip is 0xe800_0800. The on-board flash is broken up into partitions and accessed through the Linux driver framework known as "MTD", or Memory Technology Device. The partitioning is dynamic and depends on the DOS-style MBR found at sector 0 of the flash. This MBR can be changed by using the "fdisk" command on the /dev/mtdblock/0 device, but doing so is not recommended.
</p>
<h3> <span class="mw-headline" id="USB_Host"> USB Host </span></h3>
<p>The USB Connector on the TS-7800 provide two high-speed USB interfaces for the user. These are directly connected to the MV88F5182 processor, which integrates an USB dual-port Open Host Controller Interface (OHCI), providing full-speed serial communications ports at a baud rate of 480 Mbits/sec. Up to 127 USB devices (printer, mouse, camera, keyboard, etc.) and USB hubs can be connected to the USB host in the USB "tiered-star" topology. This includes the following features: USB 2.0 compatible OHCI Rev 1.0 compliant USB device connections support at both low-speed (1.5 Mbps) full-speed (12 Mbps) and hi-speed (480 Mbps) Root HUB integrated with 2 downstream USB ports Transceiver buffers integrated, over-current protection on ports Supports power management Operates as a master on the bus
</p><p>Additional non-volatile storage may be added with a USB flash drive. This device supplies additional non-volatile storage either for data or for a complete operation system distribution, such as Debian. A tar-file of Debian is available on the Technologic Systems FTP site.
</p>
<h3> <span class="mw-headline" id="SATA"> SATA </span></h3>
<p>The CPU provides two Marvell SATA 2.0 connections.  These allow connection of mass storage devices in excess of 500GB.  The drivers required to operate the SATA connectors in Sarge are thus:  mv_sata, sd_mod, scsi_mod.  Note while the TS-7800 cannot boot directly from a SATA device, chroot and pivot root can be used to change the root partition to one of these devices.
</p>
<h3> <span class="mw-headline" id="DDR_RAM"> DDR RAM </span></h3>
<p>The TS-7800 uses DDR RAM technology to provide 128 MB of high-speed volatile memory. The memory is soldered directly to the board, making the TS-7800 more reliable in high-vibration environments.
</p><p>The TS-7800's RAM is not contiguous in the physical memory map of the 88F5182. But the MMU is programmed to remap the blocks of RAM to appear as a contiguous block of memory at the very beginning of the virtual memory map. Refer to the MMU section of this manual to understand how the physical memory is mapped and the virtual memory is translated.
</p>
<table style="background:#F6F6F6; width:75%; border: 1px solid #A7D7F9" cellpadding="5" cellspacing="5">
<tr>
<td style="font-weight:bold; font-size:120%;"> Note:
</td>
<td align="left"> It is not possible to use sizes of the DDR RAM other than the standard 128MB.
</td></tr></table>
<h3> <span class="mw-headline" id="Onboard_NAND_Flash"> Onboard NAND Flash </span></h3>
<p>The onboard flash is broken up into partitions and accessed through the Linux driver framework known as "MTD", or Memory Technology Device. The partitioning is dynamic and depends on the DOS-style MBR found at sector 0 of the flash. This MBR can be changed by using the "fdisk" command on the /dev/mtdblock/0 device, but doing so is not recommended.
</p><p>/dev/mtdblock0 - Whole disk block device driver.
/dev/mtdblock1 - First MBR partition (bootloader kernel binary)
/dev/mtdblock2 - Second MBR partition (bootloader initrd)
/dev/mtdblock3 - Third MBR partition (Linux YAFFS2 filesystem)
</p><p>The TS-7800 uses a 512MB NAND Flash chip for its on-board Flash resource. The physical address of the Flash chip is 0xe800_0800. The on-board flash is broken up into partitions and accessed through the Linux driver framework known as "MTD", or Memory Technology Device. The partitioning is dynamic and depends on the DOS-style MBR found at sector 0 of the flash. This MBR can be changed by using the "fdisk" command on the /dev/mtdblock/0 device, but doing so is not recommended.
</p><p>The common usage of using the NAND flash is by first preparing an SD card with the desired image.  Once this is written you can run the 'createmtdroot' command from the initrd which will copy the image on the SD card to the Onboard flash.  This assumes you are using the default partitioning scheme we use on the SD card, and the partitions have not been extended past 512MB.
</p><p>Linux uses a NAND flash filesystem called YAFFS2 for general purpose file storage. This filesystem is a log-structured filesystem which is safe against corruption caused by system crashes and power loss without the need for consistency checking on next boot. A normal PC cannot use this filesystem as it is specifically designed for NAND flash which a PC does not have.
</p>
<h2> <span class="mw-headline" id="FPGA_Functionality"> FPGA Functionality </span></h2>
<p>The 12,000 LUT Lattice FPGA is an integral part of the TS-7800 design. When the TS-7800 is powered on, the FPGA comes on first and it then boots the CPU, using boot code from a small EEPROM chip and from either the on-board flash or the SD card. After an operating system has booted, the FPGA provides the CPU access through its PCI bus to the NAND flash, the SD cards, and the PC/104 connector. 89 PC/104 pins are connected to the FPGA. The default FPGA load allows these pins to be used either as a standard PC/104 bus or for GPIO. Due to the flexibility of FPGAs, many other functionalities are possible such as quadrature encoders, PWM outputs, extra serial ports, DMX, or other unique communications protocols. Please contact Technologic Systems if you require custom FPGA logic.
</p>
<h3> <span class="mw-headline" id="SD"> SD </span></h3>
<p>The SD card has a slightly different partition scheme than on the XNAND to facilitate usage on a host PC. The micro-SD card shows up as /dev/tssdcarda while the full size SD card slot shows up as /dev/tssdcardb on the TS-7800. Both cards can be used together and the TS-7800 will attempt to boot from the micro-SD card before the full size SD card.
</p><p>/dev/tssdcard(a-b)/1 - First MBR partition
(Formatted FAT32, 2GB bought from Technologic Systems contains the Eclipse IDE)
/dev/tssdcard(a-b)/2 - Second MBR partition (bootloader kernel binary)
/dev/tssdcard(a-b)/3 - Third MBR partition (bootloader initrd)
/dev/tssdcard(a-b)/4 - Fourth MBR partition (Linux JFS filesystem)
</p><p>Note that the MBR installed by default on the TS-7800 contains a 446 byte bootloader program that loads the initial power-on kernel and initrd from the first and second partitions. Replacing it with a MBR found on a PC would not work as a PC MBR contains an x86 code bootup program.
</p><p>Technologic Systems has a full license for using the additional SD features which are reserved for members of the SD Card Association. This has allowed us to design both the hardware logic core and software specifically tuned to the capabilities of the TS-7800 CPU using the official SD specification documents. Since both a Linux driver module and an ARM9 object file containing OS-independent access routines are provided to customers purchasing the board hardware, customers do not have to seek SD licensing themselves.
</p><p>SD Memory Card technology provides large capacity and fast access combined with a compact and slim profile, making it very appealing for a wide range of next generation products and applications. In addition, SD Cards feature content protection, planned capacity growth, high-speed data transfer, and a write protect switch. These devices supply additional non-volatile storage either for data or for a complete operation system distribution, such as Debian, to be used with the TS-7800 SBC.
</p><p>The TS-7800 fully supports SDHC cards as well.
</p>
<h3> <span class="mw-headline" id="Register_Map"> Register Map </span></h3>
<p>By default the Lattice FPGA on the TS-7800 is loaded with a system controller core at base physical address 0xe8000000. Add that base to the offsets below to access these registers. With the exception of the UART control registers, these registers are all 32 bits wide and should therefore be accessed with 32 bit writes. The UART registers are 16 bit registers.
</p>
<table class="wikitable">

<tr>
<th> Offset
</th>
<th> Bits
</th>
<th> Access
</th>
<th> Description
</th></tr>
<tr>
<td rowspan="2"> 0x0
</td>
<td> 7-0
</td>
<td> Read Only
</td>
<td> FPGA Revision
</td></tr>
<tr>
<td> 31-8
</td>
<td> Read Only
</td>
<td> Board ID: 0xb480
</td></tr>
<tr>
<td rowspan="4"> 0x4
</td>
<td> 15-0
</td>
<td> Read/Write
</td>
<td> DIO header data in pins 16-1
</td></tr>
<tr>
<td> 29-16
</td>
<td> Read/Write
</td>
<td> LCD header data in pins 14-1
</td></tr>
<tr>
<td> 30
</td>
<td> Read Only
</td>
<td> JP1 status (1 = on)
</td></tr>
<tr>
<td> 31
</td>
<td> Read Only
</td>
<td> JP2 status (1 = on)
</td></tr>
<tr>
<td rowspan="6"> 0xc
</td>
<td> 12-0
</td>
<td> Read/Write
</td>
<td> PC104 Configuration
</td></tr>
<tr>
<td> 13
</td>
<td> Read/Write
</td>
<td> UART RTS for COM1
</td></tr>
<tr>
<td> 14
</td>
<td> Read/Write
</td>
<td> UART DTR for COM1
</td></tr>
<tr>
<td> 15
</td>
<td> Read/Write
</td>
<td> 1 = RS422 on COM2 using TSUART2
<p>2 = dual RS485 using TSUART2 and TSUART3
</p>
</td></tr>
<tr>
<td> 16
</td>
<td> Read/Write
</td>
<td> UART4 RTS on COM3
</td></tr>
<tr>
<td> 31-17
</td>
<td> Read Only
</td>
<td> Reserved
</td></tr>
<tr>
<td> 0x10
</td>
<td> 31-0
</td>
<td> Read/Write
</td>
<td> PC104 row A GPIO data
</td></tr>
<tr>
<td> 0x14
</td>
<td> 31-0
</td>
<td> Read/Write
</td>
<td> PC104 row B GPIO data
</td></tr>
<tr>
<td rowspan="2"> 0x18
</td>
<td> 19-0
</td>
<td> Read/Write
</td>
<td> PC104 row C GPIO data
</td></tr>
<tr>
<td> 31-20
</td>
<td> Read Only
</td>
<td> Reserved
</td></tr>
<tr>
<td> 0x20
</td>
<td> 31-0
</td>
<td> Read/Write
</td>
<td> PC104 row A GPIO data direction
</td></tr>
<tr>
<td> 0x24
</td>
<td> 31-0
</td>
<td> Read/Write
</td>
<td> PC104 row B GPIO data direction
</td></tr>
<tr>
<td rowspan="2"> 0x28
</td>
<td> 19-0
</td>
<td> Read/Write
</td>
<td> PC104 row C GPIO data direction
</td></tr>
<tr>
<td> 31-20
</td>
<td> Read Only
</td>
<td> Reserved
</td></tr>
<tr>
<td rowspan="2"> 0x2c
</td>
<td> 19-0
</td>
<td> Reda/Write
</td>
<td> PC104 row D GPIO data direction
</td></tr>
<tr>
<td> 31-20
</td>
<td> Read Only
</td>
<td> Reserved
</td></tr>
<tr>
<td> 0x30
</td>
<td> 31-0
</td>
<td> Read/Write
</td>
<td> PC104 row A MUX function
</td></tr>
<tr>
<td> 0x34
</td>
<td> 31-0
</td>
<td> Read/Write
</td>
<td> PC104 row B MUX function
</td></tr>
<tr>
<td rowspan="2"> 0x38
</td>
<td> 19-0
</td>
<td> Read/Write
</td>
<td> PC104 row C MUX function
</td></tr>
<tr>
<td> 31-20
</td>
<td> Read Only
</td>
<td> Reserved
</td></tr>
<tr>
<td rowspan="2"> 0x3c
</td>
<td> 19-0
</td>
<td> Read/Write
</td>
<td> PC104 row D MUX function
</td></tr>
<tr>
<td> 31-20
</td>
<td> Read Only
</td>
<td> Reserved
</td></tr>
<tr>
<td> 0x40
</td>
<td> 31-0
</td>
<td> Read Only
</td>
<td> Free running microsecond counter
</td></tr>
<tr>
<td> 0x44
</td>
<td> 31-0
</td>
<td> Read Only
</td>
<td> 32 bits of random data updated every second
</td></tr>
<tr>
<td> 0xC0-0xE6
</td>
<td> 15-0
</td>
<td> Read/Write
</td>
<td> TSUART control registers
</td></tr></table>
<h3> <span class="mw-headline" id="TSUART"> TSUART </span></h3>
<p>The TS-UART design used in the TS-7800 is fundamentally the same as the TS-UARTs in other TS boards. The TS-UART is a compact, two register design created to require minimal space in an FPGA. The two registers are STAT and DATA. The layout of the STAT register is:
</p>
<table class="wikitable">
<tr>
<th> Bits
</th>
<th> Access
</th>
<th> Name
</th>
<th> Description
</th></tr>
<tr>
<td> 0
</td>
<td> Read Only
</td>
<td> TBRE
</td>
<td> Transmit buffer not full
</td></tr>
<tr>
<td> 1
</td>
<td> Read Only
</td>
<td> DR
</td>
<td> Receive data ready
</td></tr>
<tr>
<td> 2
</td>
<td> Read Only
</td>
<td> OERR
</td>
<td> Receive overflow
</td></tr>
<tr>
<td> 3
</td>
<td> Read Only
</td>
<td> CTS
</td>
<td> UART CTS
</td></tr>
<tr>
<td> 4
</td>
<td> Read/Write
</td>
<td> RTS
</td>
<td> UART RTS
</td></tr>
<tr>
<td> 7:5
</td>
<td> Read/Write
</td>
<td> BAUD
</td>
<td>
<table>
<tr>
<th> Value
</th>
<th> Rate
</th></tr>
<tr>
<td> 0
</td>
<td> 115200
</td></tr>
<tr>
<td> 1
</td>
<td> 57600
</td></tr>
<tr>
<td> 2
</td>
<td> 38400
</td></tr>
<tr>
<td> 3
</td>
<td> 19200
</td></tr>
<tr>
<td> 4
</td>
<td> 9600
</td></tr>
<tr>
<td> 5
</td>
<td> 4800
</td></tr>
<tr>
<td> 6
</td>
<td> 2400
</td></tr>
<tr>
<td> 7
</td>
<td> Off
</td></tr></table>
</td></tr>
<tr>
<td> 8
</td>
<td> Read/Write
</td>
<td> NINEBIT
</td>
<td> Enable 9-bit mode
</td></tr>
<tr>
<td> 9
</td>
<td> Read Only
</td>
<td> RBREAK
</td>
<td> BREAK detected
</td></tr>
<tr>
<td> 10
</td>
<td> Read/Write
</td>
<td> TBREAK
</td>
<td> Transmit Break
</td></tr>
<tr>
<td> 11
</td>
<td> Read Only
</td>
<td> DMXS
</td>
<td> Reserved
</td></tr>
<tr>
<td> 12
</td>
<td> Read Only
</td>
<td> TRE
</td>
<td> Transmitter empty
</td></tr>
<tr>
<td> 13
</td>
<td> N/A
</td>
<td> SLOW
</td>
<td> Reserved
</td></tr>
<tr>
<td> 15:14
</td>
<td> N/A
</td>
<td> N/A
</td>
<td> Reserved
</td></tr></table>
<p>Please consult the driver source code files tsuart1.c and tsuart-7800.c provided in the kernel sources for more information on implementing a device driver for the TS-UART on the TS-7800.
</p>
<h3> <span class="mw-headline" id="PC104"> PC104 </span></h3>
<p>To access peripherals on the PC104 bus it is necessary to add the base address from the table below to the offset of the peripheral to get a memory address for accessing the peripheral. For example, for ISA 8-bit I/O address 0x100, add 0xEE000000 to 0x100 to get 0xEE000100.
</p>
<table class="wikitable">
<tr>
<th>
</th>
<th> Memory
</th>
<th> I/O
</th></tr>
<tr>
<td> 8-bit
</td>
<td> 0xEC000000
</td>
<td> 0xEE000000
</td></tr>
<tr>
<td> 16-bit
</td>
<td> 0xED000000
</td>
<td> 0xEF000000
</td></tr></table>
<p>The IRQs on the PC104 bus from the TS-7800 are 64 + the PC104 IRQ number.  These will be IRQs 69, 70, and 71.
</p>
<table style="background:#800000; color:White; width:75%; border:3px solid #520000" cellpadding="5" cellspacing="5">
<tr>
<td style="font-weight:bold; font-size:120%;"> WARNING:
</td>
<td align="left"> The Ethernet connector and the electrolytic capacitor near the PC/104 bus are near the edge of the PC/104 specification. It is advised to apply a piece of electrical tape on top of these components when using a PC/104 daughter board to help prevent any damage.
</td></tr></table>
<p>The TS-7800 provides control over some of the ISA parameters of the PC-104 bus through a 32-bit register located at address 0xE800000C, which is defined as follows:
</p>
<table class="wikitable">
<tr>
<th> Bit(s)
</th>
<th> Function
</th></tr>
<tr>
<td> 5-0
</td>
<td> ISA strobe length
</td></tr>
<tr>
<td> 9-6
</td>
<td> ISA setup length
</td></tr>
<tr>
<td> 10
</td>
<td> Honor ISA 0WS/ENDX signal (1=true)
</td></tr>
<tr>
<td> 11
</td>
<td> TS special ISA pinout enable (1=true)
</td></tr>
<tr>
<td> 12
</td>
<td> ISA oscillator select
<table class="wikitable">
<tr>
<th> Value
</th>
<th> Function
</th></tr>
<tr>
<td> 0
</td>
<td> high-jitter approximation of 14.318Mhz
</td></tr>
<tr>
<td> 1
</td>
<td> clean 25Mhz
</td></tr></table>
</td></tr></table>
<p>(Other bits in this register should be masked out.)
</p><p>The ISA strobe length and ISA setup length are both given as the number of extra 10ns periods.
</p><p>The ISA strobe length is the amount of additional time that ISA_IOR, ISA_IOW, ISA_MEMR, and ISA_MEMW are held asserted. The minimum (when bits are zero) is 20ns. The default power-on value is 40, for a 420ns strobe length. If configured to honor the ISA 0WS/ENDX signal, the peripheral will skip the remaining strobe time for an early transaction end, allowing for faster devices than standard ISA allows.
</p><p>The ISA setup length is the additional amount of time above 20ns that the address and data are held stable before asserting the strobe. The default is 14 (160ns).
</p><p>There is an additional 20ns hold time at the end of the strobe where address and data are kept valid. The default total bus cycle length is then 160ns (setup) plus 420ns (strobe) plus 20ns (hold) for a total of 500ns (2Mhz). This is very conservative for modern hardware and most designs can actually run much faster.
</p><p>The TS special ISA pinout is designed to enable compatibility with products from TS that use the 16-bit bus on the 64-pin PC/104 header. For example the TS-ETH2 is a 16-bit peripheral that has a jumper labeled "ARM." When this jumper is shorted it will expect to use the TS special ISA pinout, if it is left open it will expect to use standard PC/104 16-bit pinout. Please note that disabling the special pinout is generally not required as both 8 and 16-bit bus cycles will still function normally when it is enabled. Disabling the special ISA mode will result in quirky behavior that may show double read strobes.
</p>
<h4> <span class="mw-headline" id="PC104_GPIO"> PC104 GPIO </span></h4>
<p>The PC-104 connector can be multiplexed between PC-104 functionality and GPIO functionality. There are up to 89 general purpose digital I/O pins available. This corresponds to 104 pins total minus fifteen pins carrying power or ground rails.
</p><p>Each GPIO pin has a two corresponding register bits, one in the GPIO data register, and one in the GPIO direction register. The direction register determines if the pin is an output (actively driven) or an input (tri-stated, driven externally). A high ("1") value sets a particular pin to be an output, while a low ("0") value sets it to be an input. The data register, when read, contains the current state of all pins in GPIO mode. When written, the value written will determine the state of all pins in GPIO mode, but only for pins which have their direction set to "output".
</p><p>The GPIO register map is as follows:
</p>
<table class="wikitable">
<tr>
<th> Address
</th>
<th> Row
</th>
<th> Register
</th></tr>
<tr>
<td> 0xE8000010
</td>
<td> A
</td>
<td> Data
</td></tr>
<tr>
<td> 0xE8000014
</td>
<td> B
</td>
<td> Data
</td></tr>
<tr>
<td> 0xE8000018
</td>
<td> C
</td>
<td> Data
</td></tr>
<tr>
<td> 0xE800001C
</td>
<td> D
</td>
<td> Data
</td></tr>
<tr>
<td> 0xE8000020
</td>
<td> A
</td>
<td> Direction
</td></tr>
<tr>
<td> 0xE8000024
</td>
<td> B
</td>
<td> Direction
</td></tr>
<tr>
<td> 0xE8000028
</td>
<td> C
</td>
<td> Direction
</td></tr>
<tr>
<td> 0xE800002C
</td>
<td> D
</td>
<td> Direction
</td></tr></table>
<p>A simple command-line example to toggle pins on Row A is thus:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="co0">#connect an LED from ground (cathode) to Row A pin 2 (andode).</span>
<span class="co0">#set row A to all GPIO mode</span>
peekpoke <span class="nu0">32</span> 0xe8000030 0x0
<span class="co0">#set row A to all output:</span>
peekpoke <span class="nu0">32</span> 0xe8000020 0xffffffff
<span class="co0">#turn on the pin we attached an LED to with 0b000000010</span>
peekpoke <span class="nu0">32</span> 0xe8000010 0x2
<span class="co0">#turn off the pin</span>
peekpoke <span class="nu0">32</span> 0xe8000010 0x0
<span class="co0">#... or turn on the whole row:</span>
peekpoke <span class="nu0">32</span> 0xe8000010 0xffffffff</pre></div></div>
<p>Row A is the outside row on the longer PC104 socket.  Pin 1 is at the end nearest the DB9 connector.  From outside (nearest to the edge of the board) to inside (closest to the center of the board) the pin row labels are C, D, A, B.
</p>
<h4> <span class="mw-headline" id="PC104_16550"> PC104 16550 </span></h4>
<p>Many of our PC104 peripherals interface with the TS-7800 using a 16550 UART.  To connect to these devices we provide a generic driver.  In this example, I'm using a <a href="/wiki/TS-SER4" title="TS-SER4">TS-SER4</a> with jumpers IRQ2 and IRQ4 on.
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1">pc104on
modprobe ts7800_isa16550 <span class="re2">irq</span>=<span class="nu0">6</span> <span class="re2">io</span>=0x3e8
&#160;
<span class="co0"># On the TS-SER4, we have multiple 16550 devices.  To use</span>
<span class="co0"># these, you must remove the module and reinsert it with the</span>
<span class="co0"># options for the next port.  This will not remove the /dev/ entry for the original</span>
<span class="co0"># device, and to actually remove it you must reboot the board.</span>
rmmod ts7800_isa16550
modprobe ts7800_isa16550 <span class="re2">irq</span>=<span class="nu0">6</span> <span class="re2">io</span>=0x2e8</pre></div></div>
<p>After loading each driver, dmesg will indicate the new device name:
</p>
<pre> serial8250: **ttyS2** at MMIO 0xee0003e8 (irq = 70) is a 16550A
</pre>
<h2> <span class="mw-headline" id="AVR_Functionality"> AVR Functionality </span></h2>
<p>The AVR controls power to the CPU. The CPU communicates with the AVR using two wire serial interface. (TWSI) The utility program ts7800ctl can be used to access features implemented in the AVR, including a watchdog timer, sleep mode, analog to digital inputs, and the on-board red LED. Run ts7800ctl with no arguments for an explanation of usage.
</p>
<h3> <span class="mw-headline" id="Sleep_Mode"> Sleep Mode </span></h3>
<p>The TS-7800 implements a sleep mode that allows the board to go down to 200 microamps.  This powers off the TS-7800 while the AVR waits for the specified time to wake up the board.  You can sleep for 5 seconds by running this:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1">ts7800ctl <span class="re5">-s</span> <span class="nu0">5</span></pre></div></div>
<p>This only allows the board to sleep for seconds, not smaller units of time.  You can however wake it up immediately from an external interface by driving DIO_04 or ISA_B32 high.  
</p><p>This sleep functionality will only work if power is fed in through the +5V connector on the TS-7800 itself.  If you are using a PC104 device like the <a href="/wiki/TS-POE100" title="TS-POE100">TS-POE100</a> or the <a href="/wiki/TS-BAT10" title="TS-BAT10">TS-BAT10</a> then you would have to cut the +5V pins on PC104 and bring it down to the TS-7800 power connector in order to use the sleep functionality.  Otherwise the board can be powered through PC104 with no modification.
</p>
<h3> <span class="mw-headline" id="ADC_Sampling"> ADC Sampling </span></h3>
<table style="background:#800000; color:White; width:75%; border:3px solid #520000" cellpadding="5" cellspacing="5">
<tr>
<td style="font-weight:bold; font-size:120%;"> WARNING:
</td>
<td align="left"> If you ordered your board before 09/2011 then you may want to update the AVR. See [<a rel="nofollow" class="external text" href="http://www.embeddedarm.com/about/resource.php?item=563">Product Errata</a>].
</td></tr></table>
<p>The TS-7800 provides an analog to digital capture function by way of an on-board AVR microcontroller. The microcontroller has six 10 bit 0-3.3V analog inputs and is configured to sample at a rate of 2 kHz. Five of the six analog input channels are brought out to the A/D header (see table below), the remaining channel (channel 6) is connected to Vcc of the optional switching regulator (8-30V). A voltage divider is used to divide Vcc / 9 in order to ensure the analog voltage doesn't exceed 3.3V.
</p><p>The A/D header is laid out as follows:
</p>
<table class="wikitable">
<tr>
<td> GND
</td>
<td> GND
</td>
<td> GND
</td>
<td> GND
</td>
<td> GND
</td></tr>
<tr>
<td> 2
</td>
<td> 4
</td>
<td> 6
</td>
<td> 8
</td>
<td> 10
</td></tr>
<tr>
<td> 1
</td>
<td> 3
</td>
<td> 5
</td>
<td> 7
</td>
<td> 9
</td></tr>
<tr>
<td> CH0
</td>
<td> CH1
</td>
<td> CH3
</td>
<td> CH2
</td>
<td> CH7
</td></tr></table>
<p>The ADC is implemented using ts7800ctl:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1">root<span class="sy0">@</span>ts7800:root<span class="co0"># ts7800ctl -S 0,1</span>
<span class="br0">&#91;</span>0x00000000, <span class="nu0">0</span><span class="br0">&#93;</span>=<span class="nu0">1023</span>
<span class="br0">&#91;</span>0x00000001, <span class="nu0">1</span><span class="br0">&#93;</span>=0810
<span class="br0">&#91;</span>0x00000002, <span class="nu0">0</span><span class="br0">&#93;</span>=<span class="nu0">1023</span>
<span class="br0">&#91;</span>0x00000003, <span class="nu0">1</span><span class="br0">&#93;</span>=<span class="nu0">1023</span>
<span class="br0">&#91;</span>0x00000004, <span class="nu0">0</span><span class="br0">&#93;</span>=<span class="nu0">1023</span>
<span class="br0">&#91;</span>0x00000005, <span class="nu0">1</span><span class="br0">&#93;</span>=<span class="nu0">1023</span></pre></div></div>
<p>This requests ts7800ctl to output ADC in string data.  This returns:
</p>
<pre> [Hex counter, Channel]=Value
</pre>
<p>If you prefer to implement this in your own code, you can get [<a rel="nofollow" class="external text" href="ftp://ftp.embeddedarm.com/ts-arm-sbc/ts-7800-linux/samples/ts7800ctl.c">ts7800ctl.c here</a>].
</p><p><b> Examples </b>
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="co0"># Capture 1000 raw binary samples from channel 0 and print the output to a file in a comma separated format.</span>
ts7800ctl <span class="re5">-r</span><span class="st0">&quot;0&quot;</span> <span class="sy0">|</span> <span class="kw2">dd</span> <span class="re2">bs</span>=<span class="nu0">2</span> <span class="re2">count</span>=<span class="nu0">1000</span> <span class="nu0">2</span><span class="sy0">&gt;/</span>dev<span class="sy0">/</span>null <span class="sy0">|</span> <span class="kw2">hexdump</span> <span class="re5">-v</span> <span class="re5">-e</span> <span class="st_h">'1/2 &quot;%u, &quot;'</span> <span class="sy0">&gt;</span> ch0_500_samples.csv
&#160;
<span class="co0">#Capture 500 samples from channel 0 and 500 samples from channel 1. Write the </span>
<span class="co0">#samples to a file where all channel 0 samples are in the first column and all </span>
<span class="co0">#channel 1 samples are in the second column.</span>
ts7800ctl <span class="re5">-r</span><span class="st0">&quot;0-1&quot;</span> <span class="sy0">|</span> <span class="kw2">dd</span> <span class="re2">bs</span>=<span class="nu0">2</span> <span class="re2">count</span>=<span class="nu0">1000</span> <span class="sy0">|</span> <span class="kw2">hexdump</span> <span class="re5">-v</span> <span class="re5">-e</span> <span class="st_h">'1/2 &quot;0x%x\t&quot; 1/2 &quot;0x%x\n&quot;'</span> <span class="sy0">&gt;</span> ch0_ch1_1k_samples.dat
&#160;
<span class="co0">#Capture 1000 samples from channel 0, and then print the output to standard out in ASCII.</span>
ts7800ctl <span class="re5">-S</span><span class="st0">&quot;0,1&quot;</span> <span class="nu0">2</span><span class="sy0">&gt;/</span>dev<span class="sy0">/</span>null <span class="sy0">|</span> <span class="kw2">dd</span> <span class="re2">bs</span>=<span class="nu0">19</span> <span class="re2">count</span>=<span class="nu0">1000</span>
&#160;
<span class="co0">#Capture 5 samples from channel 0 and 5 samples from channel 1, then print the output to standard out in ASCII.</span>
ts7800ctl <span class="re5">-S</span><span class="st0">&quot;0-1&quot;</span> <span class="nu0">2</span><span class="sy0">&gt;/</span>dev<span class="sy0">/</span>null <span class="sy0">|</span> <span class="kw2">dd</span> <span class="re2">bs</span>=<span class="nu0">19</span> <span class="re2">count</span>=<span class="nu0">10</span></pre></div></div>
<h2> <span class="mw-headline" id="CPLD_Functionality"> CPLD Functionality </span></h2>
<p>The Lattice CPLD on the TS-7800 allows the FPGA to control the DIO and LCD headers, COM3, and jumpers. See the respective sections for more information. The CPLD is 5V tolerant once it is powered on, however 0 to 3.3V logic levels on pins connected directly to the CPLD are still recommended. If 5V is applied to a CPLD pin before the CPLD has come up during the boot process, this can damage the CPLD.
</p>
<h3> <span class="mw-headline" id="LCD_and_DIO"> LCD and DIO </span></h3>
<p>Although the distinction is transparent to the user, the most of the pins on the DIO and LCD headers are driven by CPLD, which means that they are 5V tolerant. However logic levels of 0-3.3V are still recommended. Applying 5V to a pin that is connected to the CPLD before it has been initialized may damage the CPLD. The only pins that come directly from the FPGA are output pins for the SPI bus. The SPI_MISO pin goes through a separate buffer chip to get to the FPGA so it is also 5V tolerant.
</p><p>The DIO and LCD headers are controlled by 32 bit registers at 0xe8000004 and 0xe8000008. Bits 15-0 control the DIO header and bits 29-16 control the LCD header. The register at 0xe8000008 is the output register. Writing a 0 drives the pin low but writing a 1 only tri-states. To use these pins for input, write a 1 to the output register and read the register at 0xe8000004. See the <a href="#LCD_Header">#LCD Header</a> and <a href="#DIO_Header">#DIO Header</a> sections for more details.
</p>
<h2> <span class="mw-headline" id="Serial_Ports"> Serial Ports </span></h2>
<p>The TS-7800 has twelve UARTs. Two of these UARTs, which appear on the COM1 (DB9) header and the COM2 (10-pin) header are driven by the CPU. Under Linux these show up under /dev as ttyS0 and ttyS1. The other ten UARTs are TS-UARTs driven by the FPGA. Under Linux these show up under /dev as tttsn where n is the UART number listed in the table below.
</p><p>Please note that the pin numbering on the 10 pin COM headers is as shown here:
</p>
<table class="wikitable">
<tr>
<td> 6
</td>
<td> 7
</td>
<td> 8
</td>
<td> 9
</td>
<td> 10
</td></tr>
<tr>
<td> 1
</td>
<td> 2
</td>
<td> 3
</td>
<td> 4
</td>
<td> 5
</td></tr></table>
<p>When some TS-UART ports are enabled, they override the meanings of other pins with their own meanings. When disabled, the pins revert to their original meaning. The table below describes the ten TS-UART ports. The "RS-" column indicates whether the port is RS-232, RS-485/422, or TTL. The "base adrs" column indicates the address of the STAT register; the DATA register is offset +2 from that. All TS-UART registers must be accessed through 16-bit memory accesses. The "header" column indicates which header the port is located on, and the "Tx", "Rx", "TxEn", "RTS", and "CTS" indicate the pin number of those respective signals on the header specified.
</p>
<table class="wikitable">
<tr>
<th> Number
</th>
<th> Type
</th>
<th> Base Address
</th>
<th> Header
</th>
<th> TX
</th>
<th> RX
</th>
<th> TXEN
</th>
<th> RTS
</th>
<th> CTS
</th></tr>
<tr>
<td> 0
</td>
<td> RS232
</td>
<td> 0xE80000C0
</td>
<td> COM1
</td>
<td> 7
</td>
<td> 8
</td>
<td> N/A
</td>
<td> N/A
</td>
<td> N/A
</td></tr>
<tr>
<td> 1
</td>
<td> RS232
</td>
<td> 0xE80000C4
</td>
<td> COM1
</td>
<td> 4
</td>
<td> 1
</td>
<td> N/A
</td>
<td> N/A
</td>
<td> N/A
</td></tr>
<tr>
<td> 2
</td>
<td> RS485/RS422
</td>
<td> 0xE80000C8
</td>
<td> COM2
</td>
<td> +6 -1
</td>
<td> +4 -9
</td>
<td> N/A
</td>
<td> N/A
</td>
<td> N/A
</td></tr>
<tr>
<td> 3
</td>
<td> RS485
</td>
<td> 0xE80000CC
</td>
<td> COM2
</td>
<td> +4 -9
</td>
<td> N/A
</td>
<td> N/A
</td>
<td> N/A
</td>
<td> N/A
</td></tr>
<tr>
<td> 4
</td>
<td> RS232
</td>
<td> 0xE80000D0
</td>
<td> COM3
</td>
<td> 3
</td>
<td> 2
</td>
<td> N/A
</td>
<td> 7
</td>
<td> 8
</td></tr>
<tr>
<td> 5
</td>
<td> RS232
</td>
<td> 0xE80000D4
</td>
<td> COM3
</td>
<td> 7
</td>
<td> 8
</td>
<td> N/A
</td>
<td> N/A
</td>
<td> N/A
</td></tr>
<tr>
<td> 6
</td>
<td> TTL
</td>
<td> 0xE80000D8
</td>
<td> DIO
</td>
<td> 13
</td>
<td> 15
</td>
<td> 11
</td>
<td> N/A
</td>
<td> N/A
</td></tr>
<tr>
<td> 7
</td>
<td> TTL
</td>
<td> 0xE80000DC
</td>
<td> LCD
</td>
<td> 13
</td>
<td> 14
</td>
<td> 12
</td>
<td> N/A
</td>
<td> N/A
</td></tr>
<tr>
<td> 8
</td>
<td> TTL
</td>
<td> 0xE80000E0
</td>
<td> PC104
</td>
<td> C17
</td>
<td> C18
</td>
<td> C16
</td>
<td> N/A
</td>
<td> N/A
</td></tr>
<tr>
<td> 9
</td>
<td> TTL
</td>
<td> 0xE80000E4
</td>
<td> PC104
</td>
<td> C14
</td>
<td> C15
</td>
<td> C13
</td>
<td> N/A
</td>
<td> N/A
</td></tr></table>
<table style="background:#F6F6F6; width:75%; border: 1px solid #A7D7F9" cellpadding="5" cellspacing="5">
<tr>
<td style="font-weight:bold; font-size:120%;"> Note:
</td>
<td align="left"> The RS485 ports are only available if the option OP-485-FD-14 was ordered with the board.  Please submit an <a rel="nofollow" class="external text" href="http://www.embeddedarm.com/about/rma.php">RMA</a> for installation of this part.
</td></tr></table>
<p>You can select RS-422 on port 2 by setting bit 15 of register 0xe800000C to 1.  If it is 0, it will default to RS485.
</p><p>All TS-UARTs can be run at one of 7 programmable baud rates, accessed as baud rate indicies 0-6. These baud rates are programmable by accessing the 16-bit address for the index of interest. The baud rate index corresponds to the value written into the TS-UART STAT register's baud rate bits to select that speed. (Note: a baud rate index of 7 is reserved in the TS-UART to mean "disabled".)
</p>
<table class="wikitable">
<tr>
<th> Baud Index
</th>
<th> Address
</th></tr>
<tr>
<td> 0
</td>
<td> 0xE80000E8
</td></tr>
<tr>
<td> 1
</td>
<td> 0xE80000EA
</td></tr>
<tr>
<td> 2
</td>
<td> 0xE80000EC
</td></tr>
<tr>
<td> 3
</td>
<td> 0xE80000EE
</td></tr>
<tr>
<td> 4
</td>
<td> 0xE80000F0
</td></tr>
<tr>
<td> 5
</td>
<td> 0xE80000F2
</td></tr>
<tr>
<td> 6
</td>
<td> 0xE80000F4
</td></tr></table>
<p>The value of the register can be computed from the following formula:
100,000,000 / (8 * baud_rate)
</p>
<h2> <span class="mw-headline" id="Realtime_Clock"> Realtime Clock </span></h2>
<p>The TS-7800 optionally supports a Non-volatile Battery-backed real-time clock (RTC) which is soldered onto the board. You can select this during the order process as OP-BBRTC. This option uses an ST Micro M48T86PC1 module for the real-time clock function. This module contains the lithium battery, 32.768 kHz crystal, and a RTC chip with 114 bytes of battery-backed CMOS RAM. It will maintain clock operation for a minimum of 10 years in the absence of power.
</p><p>The RTC is accessed using two registers. The write-only index register is located at physical address location 0xe800_0808 and the RTC data register is location at physical address location 0xe800_080c. These are byte-wide registers with the Index Register property of write only. The Data Register has a read/write property. Valid Index Register values are between 0 and 127, decimal. The first 14 index locations are used for accessing the RTC Time and Date registers. The next 114 locations are non-volatile RAM locations available to the user.
</p><p>The TS-7800 now ships with an RTC driver, so the RTC can be accessed using the standard hwclock command.
</p>
<h2> <span class="mw-headline" id="Status_LEDs"> Status LEDs </span></h2>
<p>The TS-7800 has to on-board LEDs, one red and one green, only the green is available for user software. This LED may be used for diagnostics, status messages, or simple output. When power is first applied to the TS-7800 the green LED will blink momentarily and then turn off, ready to be controlled by software. It is accessible at 0xe800_0008 bit 31, a Logical "1" turns on the LED.
</p><p>The red LED can be controlled by the ts7800ctl utility. Run 'ts7800ctl --help' for more info.
</p>
<h2> <span class="mw-headline" id="Jumpers"> Jumpers </span></h2>
<p>There are three user settable jumpers located on the top side of the TS-7800 right next to the A/D header. Jumper 1 on forces the TS-7800 to boot from an SD card, this is useful if the board has been bricked, and allows the NAND flash to be reprogrammed. Jumper 2 on enables console output on COM1. Jumper 3 on scales down the processor to run at 333 Mhz which will also lower overall power consumption slightly.
</p>
<h1> <span class="mw-headline" id="Connectors"> Connectors </span></h1>
<h2> <span class="mw-headline" id="DIO_Header"> DIO Header </span></h2>
<p>Access to the DIO header is described <a href="#LCD_and_DIO">here</a>. These pins can be driven low, otherwise they are inputs with pull-up resistors. The pull-ups are via 2.2k Ohms on the odd numbered pins 1-15. Pin 10 has a 4.7k pull-up and is a read-only input. The rest are pulled up by the CPLD through 20k-150k nominal resistance. The pinout for the DIO header is shown below.
</p><p>There is no built-in SPI bus on the TS-7800, but SPI is easily implemented in software as demonstrated in our <a rel="nofollow" class="external text" href="ftp://ftp.embeddedarm.com/ts-arm-sbc/ts-7800-linux/samples/spi.c">sample code</a>.
</p>
<table class="wikitable">
<caption> DIO Header
</caption>
<tr>
<td> GND
</td>
<td> DIO_04
</td>
<td> SPI_FRAME
</td>
<td> DIO_08
</td>
<td> SPI_MISO
</td>
<td> SPI_MOSI
</td>
<td> SPI_CLK
</td>
<td> 3.3V
</td></tr>
<tr>
<td> 2
</td>
<td> 4
</td>
<td> 6
</td>
<td> 8
</td>
<td> 10(RO)
</td>
<td> 12
</td>
<td> 14
</td>
<td> 16
</td></tr>
<tr>
<td> 1
</td>
<td> 3
</td>
<td> 5
</td>
<td> 7
</td>
<td> 9
</td>
<td> 11
</td>
<td> 13
</td>
<td> 15
</td></tr>
<tr>
<td> DIO_01
</td>
<td> DIO_03
</td>
<td> DIO_05
</td>
<td> DIO_07
</td>
<td> DIO_09
</td>
<td> DIO_11
</td>
<td> DIO_13
</td>
<td> DIO_15
</td></tr></table>
<h2> <span class="mw-headline" id="LCD_Header"> LCD Header </span></h2>
<p>This header is laid out to drive our <a href="/w/index.php?title=LCD-LED&amp;action=edit&amp;redlink=1" class="new" title="LCD-LED (page does not exist)">LCD-LED</a> product. The file tolcd.c in our samples directory demonstrates this. Like the DIO header, pins 7-14 can be driven low, otherwise they tri-state with a 2.2k Ohm pull-up. Pins 4 and 5 are pulled up by 470 Ohm and 51 Ohm inline resistance, respectively.
</p>
<table class="wikitable">
<caption> DIO Header
</caption>
<tr>
<td> GND
</td>
<td> RS
</td>
<td> EN
</td>
<td> DB1
</td>
<td> DB3
</td>
<td> DB5
</td>
<td> DB7
</td></tr>
<tr>
<td> 2
</td>
<td> 4
</td>
<td> 6
</td>
<td> 8
</td>
<td> 10
</td>
<td> 12
</td>
<td> 14
</td></tr>
<tr>
<td> 1
</td>
<td> 3
</td>
<td> 5
</td>
<td> 7
</td>
<td> 9
</td>
<td> 11
</td>
<td> 13
</td></tr>
<tr>
<td> +5V
</td>
<td> BIAS
</td>
<td> RW
</td>
<td> DB0
</td>
<td> DB2
</td>
<td> DB4
</td>
<td> DB6
</td></tr></table>
<h2> <span class="mw-headline" id="Ethernet_Port"> Ethernet Port </span></h2>
<p>The MV88F5182 Ethernet LAN controller incorporates all the logic needed to interface directly to any MII compatible Ethernet PHY chip. A low-power Marvell 88E1118 chip is used to implement the Ethernet PHY function and an integrated RJ-45 connector with built-in 10/100/1000 transformer and LED indicators completes the Ethernet sub-system.
</p><p>The TS-7800 has both a LINK/ACTIVITY LED and a 10/100/1000 speed LED built into each RJ-45 connector that indicates the current Ethernet status. The LINK LED (right side of connector, green) is active when a valid Ethernet link is detected. This LED should be ON whenever the TS-7800 is powered and properly connected to a 10/100/1000BaseT Ethernet network. The LINK/ACTIVITY LED will blink to indicate network activity for either inbound or outbound data. The SPEED LED (left side of connector, green) will be on when a 1000Mb network is detected and off for a 10/100Mb network. Both of these LEDs are controlled by the 88E1118 and do not require any overhead by the processor.
</p><p><br />
</p>
<table style="background:#F6F6F6; width:75%; border: 1px solid #A7D7F9" cellpadding="5" cellspacing="5">
<tr>
<td style="font-weight:bold; font-size:120%;"> Note:
</td>
<td align="left"> TS-Kernel provides all the software support to use the MV88F5182 10/100/1000 Ethernet core. For more details, find the TCP/IP configuration instructions on the Linux documentation.
</td></tr></table>
<h2> <span class="mw-headline" id="SD_Connectors"> SD Connectors </span></h2>
<p>The SD Card socket (ALPS connector) at the back side of the TS-7800, and the Micro-SD card socket on the top of the TS-7800 enable SD Cards to be used as primary storage devices for the TS-7800. The hardware core implemented by Technologic Systems is integrated inside the on-board FPGA. Technologic Systems has written a binary Linux driver module and a set of generic, OS-independent read/write routines for accessing the SD flash inside of an ARM object (.ko) file. The linuxrc startup script assumes that partition 4 of the SD card contains a JFS filesystem. Both SD sockets are bootable and fully support SDHC cards.
</p>
<h2> <span class="mw-headline" id="Power_Supply_Connector"> Power Supply Connector </span></h2>
<p>The TS-7800 requires regulated 5VDC at 1000 mA @ 500 MHz(maximum).
</p><p>There is an option available for the TS-7800, OP-SWITCHREG. This is a module added to the rear of the board (near the SD socket) that allows from 8-30VDC input to the TS-7800. The OP-SWITCHREG option does not interfere with any of the TS-7800's connectors.
</p>
<table style="background:#800000; color:White; width:75%; border:3px solid #520000" cellpadding="5" cellspacing="5">
<tr>
<td style="font-weight:bold; font-size:120%;"> WARNING:
</td>
<td align="left"> Supply voltages over 6 VDC may damage the TS-7800.
</td></tr></table>
<p>Be sure to use a regulated 5 VDC power supply, preferably with current limiting to 1 to 3 Amps. A current limited supply is very forgiving of common errors during development. A PC power supply that may be capable of supplying 20 Amps or more is not recommended. It is possible to do irreversible damage to the TS-7800 if the polarity on the power leads is reversed.
</p>
<h2> <span class="mw-headline" id="DB9_Connector"> DB9 Connector </span></h2>
<p>The DB9 connector brings out 1 CPU serial port (COM1, /dev/ttyS0, by default the Linux console) and 2 TSUARTs. Tx and Rx signals for COM1 are on pins 3 and 2. See section 5.1 for more information on TSUARTs. All signals are at RS-232 levels.
</p>
<h2> <span class="mw-headline" id="COM2_Header"> COM2 Header </span></h2>
<p>The COM2 header brings out COM2, /dev/ttyS1, with Tx and Rx on pins 3 and 2 at RS-232 levels. If the board was purchased with the RS-485 option, then the RS-485 ports are also available on this header.  See the <a href="#Serial_Ports">#Serial Ports</a> section for more details.
</p>
<h2> <span class="mw-headline" id="COM3_Header"> COM3 Header </span></h2>
<p>The COM3 header brings out two TSUARTs at RS-232 levels. See the <a href="#Serial_Ports">#Serial Ports</a> section for more details.
</p>
<h2> <span class="mw-headline" id="A.2FD_Header"> A/D Header </span></h2>
<p>The A/D header makes available 5 channels of 10 bit resolution A/D conversion.  See the <a href="#ADC_Sampling">#ADC Sampling</a> section for more details.
</p>
<h2> <span class="mw-headline" id="JTAG_Header"> JTAG Header </span></h2>
<p>The JTAG header is used at the factory for programming the FPGA and CPLD. It is not available for JTAG debugging on the CPU. Using the JTAG pins (pin 1-10) to program the FPGA is not supported and not recommended.
</p><p>Pins 11-16 on this header are in parallel with the COM signals on the DB9 header.
</p><p><br />
</p>
<h2> <span class="mw-headline" id="PC104_Header"> PC104 Header </span></h2>
<p>The PC-104 connector consists of pins in four rows labeled A, B, C, and D. The numbering of the pins in each row is shown below:
</p>
<table class="wikitable">

<tr>
<th> D
</th>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td> 19
</td>
<td> 18
</td>
<td> 17
</td>
<td> 16
</td>
<td> 15
</td>
<td> 14
</td>
<td> 13
</td>
<td> 12
</td>
<td> 11
</td>
<td> 10
</td>
<td> 09
</td>
<td> 08
</td>
<td> 07
</td>
<td> 06
</td>
<td> 05
</td>
<td> 04
</td>
<td> 03
</td>
<td> 02
</td>
<td> 01
</td>
<td> 00
</td></tr>
<tr>
<th> C
</th>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td> 19
</td>
<td> 18
</td>
<td> 17
</td>
<td> 16
</td>
<td> 15
</td>
<td> 14
</td>
<td> 13
</td>
<td> 12
</td>
<td> 11
</td>
<td> 10
</td>
<td> 09
</td>
<td> 08
</td>
<td> 07
</td>
<td> 06
</td>
<td> 05
</td>
<td> 04
</td>
<td> 03
</td>
<td> 02
</td>
<td> 01
</td>
<td> 00
</td></tr>
<tr>
<th> A
</th>
<td> 32
</td>
<td> 31
</td>
<td> 30
</td>
<td> 29
</td>
<td> 28
</td>
<td> 27
</td>
<td> 26
</td>
<td> 25
</td>
<td> 24
</td>
<td> 23
</td>
<td> 22
</td>
<td> 21
</td>
<td> 20
</td>
<td> 19
</td>
<td> 18
</td>
<td> 17
</td>
<td> 16
</td>
<td> 15
</td>
<td> 14
</td>
<td> 13
</td>
<td> 12
</td>
<td> 11
</td>
<td> 10
</td>
<td> 09
</td>
<td> 08
</td>
<td> 07
</td>
<td> 06
</td>
<td> 05
</td>
<td> 04
</td>
<td> 03
</td>
<td> 02
</td>
<td> 01
</td>
<td> 00
</td></tr>
<tr>
<th> B
</th>
<td> 32
</td>
<td> 31
</td>
<td> 30
</td>
<td> 29
</td>
<td> 28
</td>
<td> 27
</td>
<td> 26
</td>
<td> 25
</td>
<td> 24
</td>
<td> 23
</td>
<td> 22
</td>
<td> 21
</td>
<td> 20
</td>
<td> 19
</td>
<td> 18
</td>
<td> 17
</td>
<td> 16
</td>
<td> 15
</td>
<td> 14
</td>
<td> 13
</td>
<td> 12
</td>
<td> 11
</td>
<td> 10
</td>
<td> 09
</td>
<td> 08
</td>
<td> 07
</td>
<td> 06
</td>
<td> 05
</td>
<td> 04
</td>
<td> 03
</td>
<td> 02
</td>
<td> 01
</td>
<td> 00
</td></tr></table>
<p>The PC-104 connector can be multiplexed between different functionalities including ISA bus and GPIO. The power-up default is GPIO mode, with all I/Os in a neutral state. To enable the PC-104 bus (ISA) signals, it is necessary to write the following values to the registers specified:
</p>
<pre> 0x55555555 to address 0xE8000030
 0x55555555 to address 0xE8000034
 0x55555 to address 0xE8000038
 0x55555 to address 0xE800003C
</pre>
<p>More specifically, the functionality of the PC-104 connector can be configured in a more fine-grained manner, two pins at a time. Each pin pair will have one of two functions:
</p>
<table class="wikitable">

<tr>
<th> Value
</th>
<th> Description
</th></tr>
<tr>
<td> 0
</td>
<td> GPIO
</td></tr>
<tr>
<td> 1
</td>
<td> ISA
</td></tr></table>
<p>Setting the function of each pair of pins is done by writing the function number to the appropriate pair of bits in the register corresponding to the row in question. The table below shows the bit positions in each register on the top row, while the cells below in the same column give the corresponding pin numbers for each row which are programmed with those bits at the specified register address.
</p>
<table class="wikitable">

<tr>
<th> Row
</th>
<td> Register bits
</td>
<td> 31-30
</td>
<td> 29-28
</td>
<td> 27-26
</td>
<td> 25-24
</td>
<td> 23-22
</td>
<td> 21-20
</td>
<td> 19-28
</td>
<td> 17-16
</td>
<td> 15-14
</td>
<td> 13-12
</td>
<td> 11-10
</td>
<td> 09-08
</td>
<td> 07-06
</td>
<td> 05-04
</td>
<td> 03-02
</td>
<td> 01-00
</td></tr>
<tr>
<th> A
</th>
<td> 0xE8000030
</td>
<td> 32-31
</td>
<td> 30-29
</td>
<td> 28-27
</td>
<td> 26-25
</td>
<td> 24-23
</td>
<td> 22-21
</td>
<td> 20-19
</td>
<td> 18-17
</td>
<td> 16-15
</td>
<td> 14-13
</td>
<td> 12-11
</td>
<td> 10-09
</td>
<td> 08-07
</td>
<td> 06-05
</td>
<td> 04-03
</td>
<td> 02-01
</td></tr>
<tr>
<th> B
</th>
<td> 0xE8000034
</td>
<td> 32-31
</td>
<td> 30-29
</td>
<td> 28-27
</td>
<td> 26-25
</td>
<td> 24-23
</td>
<td> 22-21
</td>
<td> 20-19
</td>
<td> 18-17
</td>
<td> 16-15
</td>
<td> 14-13
</td>
<td> 12-11
</td>
<td> 10-09
</td>
<td> 08-07
</td>
<td> 06-05
</td>
<td> 04-03
</td>
<td> 02-01
</td></tr>
<tr>
<th> C
</th>
<td> 0xE8000038
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td> 19-28
</td>
<td> 17-16
</td>
<td> 15-14
</td>
<td> 13-12
</td>
<td> 11-10
</td>
<td> 09-08
</td>
<td> 07-06
</td>
<td> 05-04
</td>
<td> 03-02
</td>
<td> 01-00
</td></tr>
<tr>
<th> D
</th>
<td> 0xE800003C
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td> 19-28
</td>
<td> 17-16
</td>
<td> 15-14
</td>
<td> 13-12
</td>
<td> 11-10
</td>
<td> 09-08
</td>
<td> 07-06
</td>
<td> 05-04
</td>
<td> 03-02
</td>
<td> 01-00
</td></tr></table>
<p>For example, to set the function of pins B19 and B20, this the table above indicates to use bits [19:18] of the register at address 0xE8000034.
</p><p>The function of the PC-104 connector pins are given in the table below. The "ISA" column gives the name of the pin signal when it is configured as ISA, while the "GPIO" column gives the name of the pin signal when it is configured as GPIO. To save space, there are two sets of columns in each table, whereby the pin name is listed first, followed by the ISA signal and then the GPIO signal, and then this order is repeated for the other set of pins on the same physical header. 
</p><p>The 64-pin connector is given first:
</p>
<table class="wikitable">
<tr>
<th> Pin
</th>
<th> ISA
</th>
<th> GPIO
</th>
<th> Pin
</th>
<th> ISA
</th>
<th> GPIO
</th></tr>
<tr>
<td> A1
</td>
<td> IOCHK#
</td>
<td> A[0]
</td>
<td> B1
</td>
<td> GND
</td>
<td> GND
</td></tr>
<tr>
<td> A2
</td>
<td> D7
</td>
<td> A[1]
</td>
<td> B2
</td>
<td> RESET
</td>
<td> B[1]
</td></tr>
<tr>
<td> A3
</td>
<td> D6
</td>
<td> A[2]
</td>
<td> B3
</td>
<td> +5V
</td>
<td> +5V
</td></tr>
<tr>
<td> A4
</td>
<td> D5
</td>
<td> A[3]
</td>
<td> B4
</td>
<td> IRQ9
</td>
<td> B[3]
</td></tr>
<tr>
<td> A5
</td>
<td> D4
</td>
<td> A[4]
</td>
<td> B5
</td>
<td> 3.3V
</td>
<td> 3.3V
</td></tr>
<tr>
<td> A6
</td>
<td> D3
</td>
<td> A[5]
</td>
<td> B6
</td>
<td> DRQ2
</td>
<td> B[5]
</td></tr>
<tr>
<td> A7
</td>
<td> D2
</td>
<td> A[6]
</td>
<td> B7
</td>
<td> NC
</td>
<td> B[6]
</td></tr>
<tr>
<td> A8
</td>
<td> D1
</td>
<td> A[7]
</td>
<td> B8
</td>
<td> ENDX#
</td>
<td> B[7]
</td></tr>
<tr>
<td> A9
</td>
<td> D0
</td>
<td> A[8]
</td>
<td> B9
</td>
<td> 8V_30V
</td>
<td> 8V_30V
</td></tr>
<tr>
<td> A10
</td>
<td> IORDY
</td>
<td> A[9]
</td>
<td> B10
</td>
<td> GND
</td>
<td> GND
</td></tr>
<tr>
<td> A11
</td>
<td> AEN
</td>
<td> A[10]
</td>
<td> B11
</td>
<td> MEMW#
</td>
<td> B[10]
</td></tr>
<tr>
<td> A12
</td>
<td> A19
</td>
<td> A[11]
</td>
<td> B12
</td>
<td> MEMR#
</td>
<td> B[11]
</td></tr>
<tr>
<td> A13
</td>
<td> A18
</td>
<td> A[12]
</td>
<td> B13
</td>
<td> IOW#
</td>
<td> B[12]
</td></tr>
<tr>
<td> A14
</td>
<td> A17
</td>
<td> A[13]
</td>
<td> B14
</td>
<td> IOR#
</td>
<td> B[13]
</td></tr>
<tr>
<td> A15
</td>
<td> A16
</td>
<td> A[14]
</td>
<td> B15
</td>
<td> DACK3#
</td>
<td> B[14]
</td></tr>
<tr>
<td> A16
</td>
<td> A15
</td>
<td> A[15]
</td>
<td> B16
</td>
<td> DRQ3
</td>
<td> B[15]
</td></tr>
<tr>
<td> A17
</td>
<td> A14
</td>
<td> A[16]
</td>
<td> B17
</td>
<td> DACK1#
</td>
<td> B[16]
</td></tr>
<tr>
<td> A18
</td>
<td> A13
</td>
<td> A[17]
</td>
<td> B18
</td>
<td> DRQ1
</td>
<td> B[17]
</td></tr>
<tr>
<td> A19
</td>
<td> A12
</td>
<td> A[18]
</td>
<td> B19
</td>
<td> RFRSH#
</td>
<td> B[18]
</td></tr>
<tr>
<td> A20
</td>
<td> A11
</td>
<td> A[19]
</td>
<td> B20
</td>
<td> BCLK
</td>
<td> B[19]
</td></tr>
<tr>
<td> A21
</td>
<td> A10
</td>
<td> A[20]
</td>
<td> B21
</td>
<td> IRQ7
</td>
<td> B[20]
</td></tr>
<tr>
<td> A22
</td>
<td> A9
</td>
<td> A[21]
</td>
<td> B22
</td>
<td> IRQ6
</td>
<td> B[21]
</td></tr>
<tr>
<td> A23
</td>
<td> A8
</td>
<td> A[22]
</td>
<td> B23
</td>
<td> IRQ5
</td>
<td> B[22]
</td></tr>
<tr>
<td> A24
</td>
<td> A7
</td>
<td> A[23]
</td>
<td> B24
</td>
<td> IRQ4
</td>
<td> B[23]
</td></tr>
<tr>
<td> A25
</td>
<td> A6
</td>
<td> A[24]
</td>
<td> B25
</td>
<td> IRQ3
</td>
<td> B[24]
</td></tr>
<tr>
<td> A26
</td>
<td> A5
</td>
<td> A[25]
</td>
<td> B26
</td>
<td> DACK2#
</td>
<td> B[25]
</td></tr>
<tr>
<td> A27
</td>
<td> A4
</td>
<td> A[26]
</td>
<td> B27
</td>
<td> TC
</td>
<td> B[26]
</td></tr>
<tr>
<td> A28
</td>
<td> A3
</td>
<td> A[27]
</td>
<td> B28
</td>
<td> BALE
</td>
<td> B[27]
</td></tr>
<tr>
<td> A29
</td>
<td> A2
</td>
<td> A[28]
</td>
<td> B29
</td>
<td> +5V
</td>
<td> +5V
</td></tr>
<tr>
<td> A30
</td>
<td> A1
</td>
<td> A[29]
</td>
<td> B30
</td>
<td> OSC
</td>
<td> B[29]
</td></tr>
<tr>
<td> A31
</td>
<td> A0
</td>
<td> A[30]
</td>
<td> B31
</td>
<td> GND
</td>
<td> GND
</td></tr>
<tr>
<td> A32
</td>
<td> GND
</td>
<td> GND
</td>
<td> B32
</td>
<td> ISA_B32
</td>
<td> B[31]
</td></tr></table>
<p>Here are the pin assignments for the 40-pin connector:
</p>
<table class="wikitable">
<tr>
<th> Pin
</th>
<th> ISA
</th>
<th> GPIO
</th>
<th> Pin
</th>
<th> ISA
</th>
<th> GPIO
</th></tr>
<tr>
<td> C0
</td>
<td> GND
</td>
<td> GND
</td>
<td> D0
</td>
<td> GND
</td>
<td> GND
</td></tr>
<tr>
<td> C1
</td>
<td> SBHE#
</td>
<td> C[1]
</td>
<td> D1
</td>
<td> MEM16#
</td>
<td> D[1]
</td></tr>
<tr>
<td> C2
</td>
<td> LA23
</td>
<td> C[2]
</td>
<td> D2
</td>
<td> IO16#
</td>
<td> D[2]
</td></tr>
<tr>
<td> C3
</td>
<td> LA22
</td>
<td> C[3]
</td>
<td> D3
</td>
<td> IRQ10
</td>
<td> D[3]
</td></tr>
<tr>
<td> C4
</td>
<td> LA21
</td>
<td> C[4]
</td>
<td> D4
</td>
<td> IRQ11
</td>
<td> D[4]
</td></tr>
<tr>
<td> C5
</td>
<td> LA20
</td>
<td> C[5]
</td>
<td> D5
</td>
<td> IRQ12
</td>
<td> D[5]
</td></tr>
<tr>
<td> C6
</td>
<td> LA19
</td>
<td> C[6]
</td>
<td> D6
</td>
<td> IRQ15
</td>
<td> D[6]
</td></tr>
<tr>
<td> C7
</td>
<td> LA18
</td>
<td> C[7]
</td>
<td> D7
</td>
<td> IRQ14
</td>
<td> D[7]
</td></tr>
<tr>
<td> C8
</td>
<td> LA17
</td>
<td> C[8]
</td>
<td> D8
</td>
<td> 3.3V
</td>
<td> 3.3V
</td></tr>
<tr>
<td> C9
</td>
<td> MEMR#
</td>
<td> C[9]
</td>
<td> D9
</td>
<td> DRQ0
</td>
<td> D[9]
</td></tr>
<tr>
<td> C10
</td>
<td> MEMW#
</td>
<td> C[10]
</td>
<td> D10
</td>
<td> DACK5#
</td>
<td> D[10]
</td></tr>
<tr>
<td> C11
</td>
<td> SD8
</td>
<td> C[11]
</td>
<td> D11
</td>
<td> DRQ5
</td>
<td> D[11]
</td></tr>
<tr>
<td> C12
</td>
<td> SD9
</td>
<td> C[12]
</td>
<td> D12
</td>
<td> DACK6#
</td>
<td> D[12]
</td></tr>
<tr>
<td> C13
</td>
<td> SD10
</td>
<td> C[13]
</td>
<td> D13
</td>
<td> DRQ6
</td>
<td> D[13]
</td></tr>
<tr>
<td> C14
</td>
<td> SD11
</td>
<td> C[14]
</td>
<td> D14
</td>
<td> DACK7#
</td>
<td> D[14]
</td></tr>
<tr>
<td> C15
</td>
<td> SD12
</td>
<td> C[15]
</td>
<td> D15
</td>
<td> DRQ7
</td>
<td> D[15]
</td></tr>
<tr>
<td> C16
</td>
<td> SD13
</td>
<td> C[16]
</td>
<td> D16
</td>
<td> +5V
</td>
<td> +5V
</td></tr>
<tr>
<td> C17
</td>
<td> SD14
</td>
<td> C[17]
</td>
<td> D17
</td>
<td> MASTER#
</td>
<td> D[17]
</td></tr>
<tr>
<td> C18
</td>
<td> SD15
</td>
<td> C[18]
</td>
<td> D18
</td>
<td> GND
</td>
<td> GND
</td></tr>
<tr>
<td> C19
</td>
<td> GND
</td>
<td> GND
</td>
<td> D19
</td>
<td> GND
</td>
<td> GND
</td></tr></table>
<table style="background:#F6F6F6; width:75%; border: 1px solid #A7D7F9" cellpadding="5" cellspacing="5">
<tr>
<td style="font-weight:bold; font-size:120%;"> Note:
</td>
<td align="left"> The GPIO nomenclature in these tables is such that, for example, "A[0]" means "Bit 0 of GPIO Register A", and in general "X[n]" means "Bit n of GPIO Register X" and "X[n:m]" means "Bits n through m of GPIO register X", where X is one of A, B, C, or D.
</td></tr></table>
<h1> <span class="mw-headline" id="Product_Notes"> Product Notes </span></h1>
<h2> <span class="mw-headline" id="FCC_Advisory"> FCC Advisory </span></h2>
<p>This equipment generates, uses, and can radiate radio frequency energy and if not installed and used properly (that is, in strict accordance with the manufacturer's instructions), may cause interference to radio and television reception. It has been type tested and found to comply with the limits for a Class A computing device in accordance with the specifications in Subpart J of Part 15 of FCC Rules, which are designed to provide reasonable protection against such interference when operated in a commercial environment. Operation of this equipment in a residential area is likely to cause interference, in which case the owner will be required to correct the interference at his own expense.
</p><p>If this equipment does cause interference, which can be determined by turning the unit on and off, the user is encouraged to try the following measures to correct the interference:
</p><p>Reorient the receiving antenna.
Relocate the unit with respect to the receiver.
Plug the unit into a different outlet so that the unit and receiver are on different branch circuits.
Ensure that mounting screws and connector attachment screws are tightly secured.
Ensure that good quality, shielded, and grounded cables are used for all data communications.
If necessary, the user should consult the dealer or an experienced radio/television technician for additional suggestions.
The following booklets prepared by the Federal Communications Commission (FCC) may also prove helpful:
</p><p>How to Identify and Resolve Radio-TV Interference Problems (Stock No. 004-000-000345-4)
Interface Handbook (Stock No. 004-000-004505-7)
These booklets may be purchased from the Superintendent of Documents, U.S. Government Printing Office, Washington, DC 20402.
</p>
<h2> <span class="mw-headline" id="Limited_Warranty"> Limited Warranty </span></h2>
<p>Technologic Systems warrants this product to be free of defects in material and workmanship for a period of one year from date of purchase. During this warranty period Technologic Systems will repair or replace the defective unit in accordance with the following process:
</p><p>A copy of the original invoice must be included when returning the defective unit to Technologic Systems, Inc. This limited warranty does not cover damages resulting from lightning or other power surges, misuse, abuse, abnormal conditions of operation, or attempts to alter or modify the function of the product.
</p><p>This warranty is limited to the repair or replacement of the defective unit. In no event shall Technologic Systems be liable or responsible for any loss or damages, including but not limited to any lost profits, incidental or consequential damages, loss of business, or anticipatory profits arising from the use or inability to use this product.
</p><p>Repairs made after the expiration of the warranty period are subject to a repair charge and the cost of return shipping. Please, contact Technologic Systems to arrange for any repair service and to obtain repair charge information.
</p>
<!-- 
NewPP limit report
Preprocessor node count: 2476/1000000
Post-expand include size: 25003/2097152 bytes
Template argument size: 6041/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:197-0!*!0!!en!2!* and timestamp 20120525191158 -->
</div>				<!-- /bodycontent -->
								<!-- printfooter -->
				<div class="printfooter">
				Retrieved from "<a href="http://wiki.embeddedarm.com/w/index.php?title=TS-7800&amp;oldid=1944">http://wiki.embeddedarm.com/w/index.php?title=TS-7800&amp;oldid=1944</a>"				</div>
				<!-- /printfooter -->
												<!-- catlinks -->
				<div id='catlinks' class='catlinks catlinks-allhidden'></div>				<!-- /catlinks -->
												<div class="visualClear"></div>
				<!-- debughtml -->
								<!-- /debughtml -->
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="mw-head" class="noprint">
			
<!-- 0 -->
<div id="p-personal" class="">
	<h5>Personal tools</h5>
	<ul>
		<li id="pt-login"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=TS-7800" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in / create account</a></li>
	</ul>
</div>

<!-- /0 -->
			<div id="left-navigation">
				
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Namespaces</h5>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="/wiki/TS-7800"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="/w/index.php?title=Talk:TS-7800&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
		<h5><span>Variants</span><a href="#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
			</div>
			<div id="right-navigation">
				
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Views</h5>
	<ul>
					<li id="ca-view" class="selected"><span><a href="/wiki/TS-7800" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="/w/index.php?title=TS-7800&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="/w/index.php?title=TS-7800&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Actions</span><a href="#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->

<!-- 2 -->
<div id="p-search">
	<h5><label for="searchInput">Search</label></h5>
	<form action="/w/index.php" id="searchform">
		<input type='hidden' name="title" value="Special:Search"/>
				<input type="search" name="search" title="Search Technologic Systems [f]" accesskey="f" id="searchInput" />		<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />		<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />			</form>
</div>

<!-- /2 -->
			</div>
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="mw-panel" class="noprint">
				<!-- logo -->
					<div id="p-logo"><a style="background-image: url(/wiki/images/e/ea/Logo.gif);" href="/wiki/Main_Page"  title="Visit the main page"></a></div>
				<!-- /logo -->
				
<!-- navigation -->
<div class="portal" id='p-navigation'>
	<h5>Navigation</h5>
	<div class="body">
		<ul>
			<li id="n-Main-Page"><a href="http://www.embeddedarm.com" rel="nofollow">Main Page</a></li>
			<li id="n-Wiki-Homepage"><a href="/wiki/Main_Page">Wiki Homepage</a></li>
			<li id="n-Developer-Forums"><a href="http://forum.embeddedarm.com" rel="nofollow">Developer Forums</a></li>
			<li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
		</ul>
	</div>
</div>

<!-- /navigation -->

<!-- SEARCH -->

<!-- /SEARCH -->

<!-- TOOLBOX -->
<div class="portal" id='p-tb'>
	<h5>Toolbox</h5>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/TS-7800" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/TS-7800" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li><a href="/w/index.php?title=TS-7800&amp;printable=yes" rel="alternate">Printable version</a></li>
			<li id="t-permalink"><a href="/w/index.php?title=TS-7800&amp;oldid=1944" title="Permanent link to this revision of the page">Permanent link</a></li>
		</ul>
	</div>
</div>

<!-- /TOOLBOX -->

<!-- LANGUAGES -->

<!-- /LANGUAGES -->
			</div>
		<!-- /panel -->
		<!-- footer -->
		<div id="footer">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 25 May 2012, at 13:11.</li>
											<li id="footer-info-viewcount">This page has been accessed 420 times.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="/wiki/Technologic_Systems:Privacy_policy" title="Technologic Systems:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="/wiki/Technologic_Systems:About" title="Technologic Systems:About">About Technologic Systems</a></li>
											<li id="footer-places-disclaimer"><a href="/wiki/Technologic_Systems:General_disclaimer" title="Technologic Systems:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="/wiki/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<!-- /footer -->
		<!-- fixalpha -->
		<script type="text/javascript"> if ( window.isMSIE55 ) fixalpha(); </script>
		<!-- /fixalpha -->
		<script src="/w/load.php?debug=false&amp;lang=en&amp;modules=skins.vector&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
	mw.loader.load(["mediawiki.user", "mediawiki.util", "mediawiki.page.ready", "mediawiki.legacy.wikibits", "mediawiki.legacy.ajax"]);
}
</script>
<script src="/w/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
	mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,
	"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;mw.user.tokens.set({"editToken":"+\\","watchToken":false});;mw.loader.state({"user.options":"ready","user.tokens":"ready"});
	
	/* cache key: wiki:resourceloader:filter:minify-js:4:19a4b18a9ac79a6b8c60b24af4668814 */
}
</script><!-- Served in 0.192 secs. -->
	</body>
<!-- Cached 20120525193824 -->
</html>
